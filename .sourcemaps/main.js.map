{"version":3,"sources":["../../src/pages/login/login.ts","../../src/services/token.service.ts","../../src/Libs/Form.ts","../../src/services/network.service.ts","../../src/services/messages.service.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/services/api.service.ts","../../src/Libs/Config.ts","../../src/Libs/SecureDataStorage.ts","../../src/Libs/Injector.ts","../../src/pages/logout/logout.ts","../../src/pages/register/register.ts","../../src/pages/chat-main/chat-main.ts","../../src/services/notifications.service.ts","../../src/pages/search/search.ts","../../src/pages/chatmessages/chatmessages.ts","../../src/pages/settings/settings.ts","../../src/pages/about/about.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/services/errorResolver.service.ts","../../src/services/authentication.service.ts","../../src/services/socket.service.ts","../../src/services/friends.service.ts","../../ws (ignored)","../../src/services/settings.service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\nimport { Events, LoadingController, AlertController } from 'ionic-angular';\nimport { Network } from 'ionic-native';\nimport { Platform } from 'ionic-angular';\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { APIService } from '../../services/api.service';\nimport { ErrorResolverService } from '../../services/errorResolver.service';\nimport { TokenService } from '../../services/token.service';\nimport { SocketService } from '../../services/socket.service';\nimport { SettingsService } from '../../services/settings.service';\nimport { Config } from '../../Libs/Config';\nimport { Form } from '../../Libs/Form';\nimport { SecureDataStorage } from '../../Libs/SecureDataStorage';\nimport { PincodeController, PinCode } from 'ionic2-pincode-input';\nimport { NetworkService } from '../../services/network.service';\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'login.html',\n  providers:[ErrorResolverService]\n})\nexport class LogIn {\n  private user = {\n    email:'',\n    password:'',\n    deviceInfo:{}\n  };\n\n  private switchLoginForms:boolean;\n  private userInfo;\n  private pinCodeController:PinCode;\n\n  constructor(\n    private networkService:NetworkService,\n    private socketService:SocketService,\n    private authenticationService:AuthenticationService,\n    private apiService:APIService,\n    private tokenService:TokenService,\n    private settingsService:SettingsService,\n    private events:Events,\n    private errorResolverService:ErrorResolverService,\n    private loadingController:LoadingController,\n    private alertController:AlertController,\n    private platform:Platform,\n    private pincodeCtrl:PincodeController,\n  ) { }\n\n  async ionViewWillEnter() {\n    await this.platform.ready();\n\n    if ( !this.networkService.hasInternetConnection() ){\n      this.alertController.create({\n        title:'Connection Error',\n        message:'No internet connection.',\n        buttons:['OK']\n      }).present();\n    }\n\n    const loading = this.loadingController.create({\n      spinner:'bubbles',\n      content:'Loading...',\n      dismissOnPageChange: true \n    });\n\n    await loading.present();\n\n    const isLoggedIn = await this.tokenService.checkLoginStatus();\n\n    if ( isLoggedIn ) {\n      await loading.dismiss();\n\n      this.settingsService.toggleMainLoadingScreen();\n      // get all operations, socket service will execute just the ones\n      // that are new messages, not friend request notifications etc.\n      const [ { operations } ] =  await Promise.all([\n        this.apiService.getSocketOperations(),\n        this.apiService.changeLoginStatus({ status:1 }),\n      ]);\n\n      this.socketService.setTempOperations(operations);\n\n      await this.apiService.deleteOperations({  });\n\n      return this.events.publish('user:loggedin');\n    }\n\n    await loading.dismiss();\n\n    const userInfo = await Config.getInfo();\n\n    this.userInfo = userInfo.info;\n    this.switchLoginForms = !!userInfo.default;\n\n    if ( this.userInfo.pin_login_enabled ) {\n      await this.showPinForm();\n    }\n  }\n\n  private switchToPINLoginForm() {\n    this.userInfo.pin_login_enabled = 1;\n  }\n\n  private logIn() {\n    if ( !(this.user.email && this.user.password) ) {\n      const alert = this.alertController.create({\n        title:'Login',\n        subTitle:'Missing Credentials',\n        buttons:['OK']\n      });\n\n      alert.present();\n      return;\n    }\n\n    this.user.deviceInfo = Config.getDeviceInfo();\n\n    const loading = this.loadingController.create({\n      spinner:'bubbles',\n      content:'Logging in...'\n    });\n\n    loading.present();\n\n    this.authenticationService.logIn(this.user).subscribe((response) => {\n      loading.dismiss();\n      this._onSuccessfullLogin(response);\n    },(err) => {\n      loading.dismiss();\n\n      this.errorResolverService.presentAlertError('Login Error',err.errorCode);\n    });\n  }\n\n  private async showPinForm() {\n    this.pinCodeController = await this.pincodeCtrl.create({\n      title:'Enter your PIN',\n      passSize:4,\n      hideForgotPassword:true,\n      pinHandler:this.logInWithPin.bind(this),\n      enableBackdropDismiss:true\n    });\n \n    await this.pinCodeController.present();\n  }\n\n  private logInWithPin(pin:string) {\n    const form = new Form({\n      pin:'bail|required|regex:^[1-9][0-9]{3}$'\n    });\n\n    form.setCustomErrorMessages({\n      pin:[\n        ['required','PIN is required.'],\n        ['regex','Enter valid PIN.']\n      ]\n    });\n\n    form.bindValues({ pin });\n    form.validate();\n    \n    if ( !form.isValid() ) {\n      const alert = this.alertController.create({\n        title:'PIN',\n        message:form.errorMessages()[0],\n        buttons:['OK']\n      });\n\n      return alert.present();\n    }\n\n    const body = { pin,deviceInfo:Config.getDeviceInfo() };\n\n    const loading = this.loadingController.create({\n      spinner:'bubbles',\n      content:'Logging in...'\n    });\n\n    loading.present();\n\n    this.authenticationService.logIn(body).subscribe(async(response) => {\n      await this.pinCodeController.dismiss();\n      await this._onSuccessfullLogin(response);\n\n      loading.dismiss();\n      this.pinCodeController = null; \n    },(err) => {\n      loading.dismiss();\n      this.errorResolverService.presentAlertError('Login Error',err.errorCode);\n    });\n  }\n\n  private async _onSuccessfullLogin(response) {\n    if ( response.success ) {\n      this.apiService.setToken(response.token);\n      \n      try {\n        await Promise.all([\n          SecureDataStorage.Instance().set('token',response.token),\n          SecureDataStorage.Instance().set('refreshToken',response.refreshToken)\n        ]);\n\n        const { operations } = await this.apiService.getSocketOperations();\n\n        this.socketService.setTempOperations(operations);\n\n        await Promise.all([\n          this.apiService.deleteOperations({  }),\n          this.apiService.changeLoginStatus({ status:1 }),\n        ]);\n        \n        this.settingsService.toggleMainLoadingScreen();\n        this.events.publish('user:loggedin');\n      } catch(e) {\n        this.alertController.create({\n          title:'Login Error',\n          message:'Error occured while trying to log you in, please try again.',\n          buttons:['OK']\n        }).present();\n      }\n    } else {\n      this.errorResolverService.presentAlertError('Login Error',response.errorCode);\n    }\n  }\n\n  private async resendConfirmationEmail() {\n    if ( !(this.user.email && this.user.password) ) {\n      const alert = this.alertController.create({\n        title:'Resending Email',\n        subTitle:'Missing Credentials',\n        buttons:['OK']\n      });\n\n      alert.present();\n      return;\n    }\n\n    const loading = this.loadingController.create({\n      spinner:'bubbles',\n      content:'Sending...'\n    });\n\n    loading.present();\n\n    this.authenticationService.resendConfirmationEmail({\n      email:this.user.email, password:this.user.password\n    }).subscribe((response) => {\n      loading.dismiss();\n\n      if ( response.success ) {\n        const alert = this.alertController.create({\n          title:'Resending Email',\n          subTitle:'Successfully sent. You can now activate your account.',\n          buttons:['OK']\n        });\n  \n        alert.present();\n\n        this.user = {\n          email:'',\n          password:'',\n          deviceInfo:{}\n        }\n      } else {\n        this.errorResolverService.presentAlertError('Resending Email Error',response.errorCode);\n      }\n    },(err) => {\n      err = err.err ? err.err : err;\n\n      loading.dismiss();\n      this.errorResolverService.presentAlertError('Resending Email Error',err.errorCode);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Injectable } from '@angular/core';\nimport { Events } from 'ionic-angular';\nimport { APIService } from './api.service';\nimport { Config } from '../Libs/Config';\nimport { SecureDataStorage } from '../Libs/SecureDataStorage';\nimport { SocketService } from './socket.service';\n\n// token lasts for 25 minutes, refresh at every 10 minutes\n@Injectable()\nexport class TokenService {\n  private _interval;\n  private _intervalSeconds:number = 1000 * 60 * 10;\n  private _refreshingStarted:boolean = false;\n\n  constructor(\n    private socketService:SocketService,\n    private apiService:APIService,\n    private events:Events\n  ) {\n    this.events.subscribe('user:logout',() => this.stopRefreshing());\n  }\n\n  // if not logged in, just send refresh token!\n  public async checkLoginStatus():Promise<boolean> {\n    let loggedIn = true;\n    let minutesExpired;\n\n    try {\n      const response = await this.apiService.isLoggedIn();\n\n      minutesExpired = response.minutesExpired;\n\n      if ( !response.isLoggedIn ) {\n        loggedIn = false;\n      }\n    } catch(e) {\n      loggedIn = false;\n    }\n\n    if ( loggedIn ) {\n      if ( minutesExpired >= 14 ) {\n        await this._getAndStoreToken();\n\n        this.stopRefreshing();\n        this.startRefreshing();\n      }\n\n      return true;\n    }\n\n    try {\n      const refreshToken = await SecureDataStorage.Instance().get('refreshToken');\n\n      if ( !refreshToken ) return false;\n\n      const { token,refreshToken:newRefreshToken } = await this.apiService.grantAccessToken({\n        refreshToken, deviceInfo:Config.getDeviceInfo()\n      });\n\n      if ( newRefreshToken ) { \n        await SecureDataStorage.Instance().set('refreshToken',newRefreshToken);\n      }\n\n      this.apiService.setToken(token);\n      this.socketService.setNewToken(token);\n      \n      await SecureDataStorage.Instance().set('token',token);\n    } catch(e) {\n      return false;\n    }\n\n    return true;\n  }\n\n  public startRefreshing():void {\n    if ( this._refreshingStarted ) return;\n\n    this._refreshingStarted = true;\n    this._setInterval();\n  }\n\n  private _setInterval():void {\n    this._interval = window.setInterval(this._start.bind(this),this._intervalSeconds);\n  }\n\n  private _clearInterval():void {\n    try { window.clearInterval(this._interval); } catch(e) { }\n  }\n\n  private async _getAndStoreToken() {\n    const response = await this.apiService.refreshToken();\n\n    this.apiService.setToken(response.token);\n    this.socketService.setNewToken(response.token);\n\n    await SecureDataStorage.Instance().set('token',response.token);\n  }\n\n  private async _start() {\n    try {\n      await this._getAndStoreToken();\n    } catch(e) {\n      try {\n        await this.checkLoginStatus();\n      } catch(e) {\n        throw e;\n      }\n    }\n  }\n\n  public stopRefreshing():void {\n    this._refreshingStarted = false;\n    this._clearInterval();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/token.service.ts","export class Form {\n  private _rules;\n  private _errorMessages;\n  private _fieldsToStopValidating;\n  private _isValidateCalled;\n  private _customErrorMessages;\n  private _errorMessagesForEachField;\n  private _currentlyEnvokedMethod;\n  private _regexForReplacingValues;\n  private _formValues;\n\n  constructor(rules) {\n    this._rules = rules;\n    this._errorMessages = [];\n    this._fieldsToStopValidating = [];\n    this._isValidateCalled = false;\n    this._customErrorMessages = null;\n    this._errorMessagesForEachField = {};\n    this._currentlyEnvokedMethod = '';\n    this._regexForReplacingValues = /{{\\s?value\\s?}}/;\n\n    Object.keys(rules).forEach(field => this._errorMessagesForEachField[field] = []);\n\n    return this;\n  }\n\n  private _entries(obj) {\n    const output = [];\n\n    for ( const key of Object.keys(obj) ) {\n      output.push([key,obj[key]]);\n    }\n\n    return output;\n  }\n\n  private _includes(array,item) {\n    return array.indexOf(item) !== -1;\n  }\n\n  bindValues(formValues) {\n    const allowedRulesType:string[] = ['[object Object]','[object String]'],\n      rulesType        = Object.prototype.toString.call(formValues);\n\n    if ( !this._includes(allowedRulesType,rulesType) ) {\n      throw new Error('Rules must be of type string or object');\n    }\n\n    this._formValues = rulesType === '[object Object]'\n      ? formValues\n      : this._getFormValuesFromForm(formValues);\n\n    return this;\n  }\n\n  setCustomErrorMessages(messagesObj) {\n    const allowedRulesType = ['[object Array]','[object String]'];\n\n    for ( const field of Object.keys(messagesObj) ) {\n      const rulesType = Object.prototype.toString.call(messagesObj[field]);\n\n      if ( !this._includes(allowedRulesType,rulesType) ) {\n        throw new Error('Rules must be of type string or array');\n      }\n    }\n\n    this._customErrorMessages = messagesObj;\n\n    return this;\n  }\n\n  _getFormValuesFromForm(formSelector) {\n    const form = document.querySelector(formSelector);\n\n    if ( !form ) throw new Error(`Form with selector ${ formSelector } wasn't found on the page...`);\n\n    const\n      inputFields = Array.from(document.querySelectorAll(formSelector + ' [name]')),\n      formData    = {};\n\n    let inputField:any;\n\n    for ( inputField of inputFields ) {\n      if ( inputField.name ) {\n        formData[inputField.name] = inputField.value;\n      }\n    }\n\n    return formData;\n  }\n\n  _compileErrorString(field,error) {\n    return error.replace(this._regexForReplacingValues,this._formValues[field]);\n  }\n\n  _pushError(field,error) {\n    if (\n      this._fieldsToStopValidating.includes(field) &&\n      this._errorMessagesForEachField[field].length > 0\n    ) { return; }\n\n    const pushError = (error) => {\n      error = this._compileErrorString(field,error);\n\n      this._errorMessages.push(error);\n      this._errorMessagesForEachField[field].push(error);\n    }\n\n    if ( !this._customErrorMessages || !this._customErrorMessages[field] ) {\n      return pushError(error);\n    }\n\n    if ( typeof this._rules[field] === 'function' ) {\n      const errorIsString = typeof this._customErrorMessages[field] === 'string';\n\n      if ( !errorIsString ) {\n        console.info('You have to provide string as custom error message when using function validation!');\n      }\n\n      return pushError(errorIsString ? this._customErrorMessages[field] : error);\n    }\n\n    for ( const [,value] of this._entries(this._customErrorMessages[field]) ) {\n      const [ method,errorMessage ] = value;\n\n      if ( method === this._currentlyEnvokedMethod ) {\n        return pushError(errorMessage);\n      }\n    }\n\n    return pushError(error);\n  }\n\n  validate() {\n    this._isValidateCalled = true;\n\n    for ( const field of Object.keys(this._rules) ) {\n      if ( typeof this._rules[field] === 'function' ) {\n        this._currentlyEnvokedMethod = 'custom';\n        this.custom(field,this._rules[field]);\n\n        continue;\n      }\n\n      for ( const rule of this._rules[field].split('|') ) {\n        const [ method,...params ] = rule.split(':');\n\n        if ( typeof this[method] === 'function' ) {\n          this._currentlyEnvokedMethod = method;\n          this[method](field,...params);\n        } else {\n          throw new Error(`Rule you specified \"${ method }\" doesn't exist...`);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  custom(field,fn) {\n    const isValidField = fn(this._formValues[field]);\n\n    if ( isValidField !== true && isValidField !== false ) {\n      throw new Error('Custom function validation have to return boolean value...');\n    }\n\n    if ( isValidField === false ) {\n      this._pushError(field,`Field ${ field } is not properly formated...`);\n    }\n  }\n  \n  email(field) {\n    var regex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if ( !regex.test(this._formValues[field]) ) {\n      this._pushError(field,`Field ${field} is not an email`);\n    }\n  }\n\n  bail(field) {\n    this._fieldsToStopValidating.push(field);\n  }\n\n  same(field,fieldToMatch) {\n    if ( this._formValues[field] !== this._formValues[fieldToMatch] ) {\n      this._pushError(field,`Field ${ field } needs to be same as ${ fieldToMatch }`);\n    }\n  }\n\n  regex(field,regexString,flags = '') {\n    const regex = new RegExp(regexString,flags);\n\n    if ( !(regex.test(this._formValues[field])) ) {\n      this._pushError(field,`Value for ${ field } is not properly formated...`);\n    }\n  }\n\n  inlist(field,listString) {\n    if ( !listString.split(',').includes(this._formValues[field]) ) {\n      this._pushError(field,`Value for ${ field } is not in list of acceptable choices...`);\n    }\n  }\n\n  equals(field,param) {\n    if ( this._formValues[field] !== param ) {\n      this._pushError(field,`Value for ${ field } must be exactly ${ param }`);\n    }\n  }\n\n  required(field) {\n    if ( this._formValues[field] === undefined || this._formValues[field] === '' ) {\n      this._pushError(field,`Field ${ field } is required`);\n    }\n  }\n\n  maxlength(field,param) {\n    param = Number(param);\n\n    if ( isNaN(param) ) throw new Error(`Param for field ${ field } is not a number...`);\n\n    if ( this._formValues[field].length > param ) {\n      this._pushError(field,`Value for field ${ field } can not be greater than ${ param }`);\n    }\n  }\n\n  minlength(field,param) {\n    param = Number(param);\n\n    if ( isNaN(param) ) {\n      throw new Error(`Param for field ${ field } is not a number...`);\n    }\n\n    if ( this._formValues[field].length < param ) {\n      this._pushError(field,`Value for field ${ field } can not be less than than ${ param }`);\n    }\n  }\n\n  getErrorsAsUL(ULClass,LIClass) {\n    return [\n      `<ul class=\"${ ULClass }\">`,\n      ...this._errorMessages.map(e => `<li class=\"${ LIClass }\">${ e }</li>`),\n      '</ul>'\n    ].join('');\n  }\n\n  isValid() {\n    return this._isValidateCalled && this._errorMessages.length === 0;\n  }\n\n  errorMessages() {\n    return this._errorMessages;\n  }\n\n  getErrorsForField(field) {\n    return this._errorMessagesForEachField[field];\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Libs/Form.ts","import { Injectable } from '@angular/core';\nimport { Config } from '../Libs/Config';\nimport { Network } from 'ionic-native';\n\n@Injectable()\nexport class NetworkService {\n  constructor() { }\n\n  public hasInternetConnection() {\n    if ( !Config.getConfig('IS_PRODUCTION') ) return true;\n\n    if ( Network.type === \"unknown\" || Network.type === \"none\" || Network.type == undefined ) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/network.service.ts","import { Injectable } from '@angular/core';\r\nimport { Events } from 'ionic-angular';\r\nimport { APIService } from './api.service';\r\nimport { NavController, App } from \"ionic-angular/index\";\r\nimport { ErrorResolverService } from './errorResolver.service';\r\nimport { SocketService } from './socket.service';\r\n\r\n@Injectable()\r\nexport class MessagesService {\r\n  private allMessages = {};\r\n  private unreadMessages = {};\r\n  private messagesToDelete:number[] = [];\r\n  private currentUserToChatWith:string;\r\n  private initialMessagesAreLoaded:boolean = false;\r\n  private currentUserID;\r\n\r\n  private nav:NavController;\r\n  private app:App;\r\n\r\n  constructor(\r\n    private events:Events,\r\n    private apiService:APIService,\r\n    private application:App,\r\n    private errorResolverService:ErrorResolverService,\r\n    private socketService:SocketService\r\n  ) {\r\n    this.app = application;\r\n    \r\n    this.events.subscribe('start:chatting',this.startChatting.bind(this));\r\n    this.events.subscribe('message:send',this.messageSend.bind(this));\r\n    this.events.subscribe('message:new-message',this.newMessage.bind(this));\r\n    this.events.subscribe('user:logout',this.userLogOut.bind(this));\r\n  }\r\n\r\n  private async startChatting({ username,id }) {\r\n    this.currentUserToChatWith = username;\r\n    this.currentUserID = id;\r\n\r\n    await this._deleteInitialMessages(id);\r\n\r\n    delete this.unreadMessages[username];\r\n    this.events.publish('start:chatting-ready');\r\n  }\r\n\r\n  public getCurrentChattingUser():string {\r\n    return this.currentUserToChatWith;\r\n  }\r\n\r\n  private messageSend(message) {\r\n    if ( this.allMessages[this.currentUserToChatWith] ) {\r\n      this.allMessages[this.currentUserToChatWith].push({\r\n        user:null , message\r\n      });\r\n    } else {\r\n      this.allMessages[this.currentUserToChatWith] = [{user:null,message}];\r\n    }\r\n\r\n    this.events.publish('message:send-ready',{\r\n      userID:this.currentUserID,\r\n      message:message\r\n    });\r\n  }\r\n\r\n  private newMessage(data) {\r\n    const messageToStore = { user:data.senderUsername , message:data.message };\r\n    // If the page is ChatMessages and current user to chat with is\r\n    // user sending the message, dont store it as unread message\r\n    this.nav = this.application.getActiveNavs()[0];\r\n\r\n    if ( !(\r\n      this.nav.getActive().name === 'ChatMessages' && \r\n      data.senderUsername === this.currentUserToChatWith\r\n    ) ) {\r\n      // now we store the message as unread\r\n      if ( !this.unreadMessages[data.senderUsername] ) {\r\n        this.unreadMessages[data.senderUsername] = [];\r\n      }\r\n\r\n      this.unreadMessages[data.senderUsername].push(messageToStore);\r\n      this.events.publish('message:stored-unread-message');\r\n    }\r\n\r\n    if ( this.allMessages[data.senderUsername] ) {\r\n      this.allMessages[data.senderUsername].push(messageToStore);\r\n    } else {\r\n      this.allMessages[data.senderUsername] = [messageToStore];\r\n    }\r\n\r\n    this.events.publish('message:message-recieved',{\r\n      user:data.senderUsername,\r\n      message:data.message\r\n    });\r\n  }\r\n\r\n  private async userLogOut() {\r\n    this.allMessages = {};\r\n    this.unreadMessages = {};\r\n    await this.refreshInitialMessages();\r\n  }\r\n\r\n  public getMessages() {\r\n    if ( !this.allMessages[this.currentUserToChatWith] ) {\r\n      this.allMessages[this.currentUserToChatWith] = [];\r\n    }\r\n\r\n    return this.allMessages[this.currentUserToChatWith];\r\n  }\r\n\r\n  public removeLocalMessage(msg) {\r\n    const msgIndex = this.allMessages[this.currentUserToChatWith].findIndex(x => {\r\n      return x.user === msg.user && x.message === msg.message;\r\n    });\r\n\r\n    if ( msgIndex !== -1 ) {\r\n      this.allMessages[this.currentUserToChatWith].splice(msgIndex,1);\r\n    }\r\n  }\r\n\r\n  public getUnreadMessages() {\r\n    return this.unreadMessages;\r\n  }\r\n\r\n  public getInitialMessages() {\r\n    return new Promise(async(resolve,reject) => {\r\n      if ( !this.initialMessagesAreLoaded ) {\r\n        let messagesFromOperations = this.socketService.getTempOperations();\r\n\r\n        if ( messagesFromOperations.length > 0 ) {\r\n          messagesFromOperations = messagesFromOperations.map(message => {\r\n            return JSON.parse(message.data);\r\n          });\r\n\r\n          this.socketService.removeTempOperations();\r\n        } else {\r\n          messagesFromOperations = null;\r\n        }\r\n\r\n        this.apiService\r\n          .getInitialMessages()\r\n          .subscribe((messages) => {\r\n            if ( messagesFromOperations ) {\r\n              messages = [...messagesFromOperations,...messages];\r\n            }\r\n\r\n            this.initialMessagesAreLoaded = true;\r\n            this.allMessages = {};\r\n\r\n            if ( messages.length !== 0 ) {\r\n              this._storeInitialMessages(messages);\r\n            }\r\n\r\n            this.unreadMessages = JSON.parse(JSON.stringify(this.allMessages));\r\n            resolve(this.allMessages);\r\n          },(err) => {\r\n            reject(err);\r\n          });\r\n      } else {\r\n        resolve(this.allMessages);\r\n      }\r\n    });\r\n  }\r\n\r\n  public refreshInitialMessages():void {\r\n    this.initialMessagesAreLoaded = false;\r\n    this.getMessages();\r\n  }\r\n\r\n  private _storeInitialMessages(messages):void {\r\n    for ( const { message,senderUsername,senderID } of messages ) {\r\n      const msg = { message,user:senderUsername };\r\n\r\n      if ( this.allMessages[senderUsername] ) {\r\n        this.allMessages[senderUsername].push(msg);\r\n      } else {\r\n        this.allMessages[senderUsername] = [msg]\r\n      }\r\n\r\n      if ( this.messagesToDelete.indexOf(senderID) === -1 ) {\r\n        this.messagesToDelete.push(senderID);\r\n      }\r\n    }\r\n  }\r\n\r\n  private _deleteInitialMessages(userID:number):void {\r\n    if ( this.messagesToDelete.indexOf(userID) !== -1 ) {\r\n      this.apiService.deleteInitialMessages(userID)\r\n        .subscribe(() => {\r\n          const messageIndex = this.messagesToDelete.indexOf(userID);\r\n\r\n          if ( messageIndex !== -1 ) {\r\n            this.messagesToDelete.splice(messageIndex,1);\r\n          }\r\n        },(err) => {\r\n          this.errorResolverService.presentAlertError('Confirm Friend',err.errorCode);\r\n        });\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/messages.service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 166;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 166\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 209;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 209\n// module chunks = 0","import { Injectable } from '@angular/core';\r\nimport { Http , Headers } from '@angular/http';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport { Config } from '../Libs/Config';\r\nimport { SecureDataStorage } from '../Libs/SecureDataStorage';\r\n\r\n@Injectable()\r\nexport class APIService {\r\n  private token:string;\r\n  private mainURL = Config.getConfig('API_URL');\r\n  private deleteInitialMessagesURL:string = this.mainURL + 'api/messages/delete_messages/';\r\n  private initialMessagesURL:string = this.mainURL + 'api/messages/';\r\n  private dismissAllNotificationsURL:string = this.mainURL + 'api/notifications/dismiss_all';\r\n  private dismissOneNofiticationURL:string = this.mainURL + 'api/notifications/dismiss'\r\n  private getAllFriendsURL:string = this.mainURL + 'api/friends';\r\n  private confirmFriendURL:string = this.mainURL + 'api/friends/confirm_friend';\r\n  private addFriendURL:string = this.mainURL + 'api/friends/add_friend';\r\n  private deleteFriendURL:string = this.mainURL + 'api/friends/delete_friend';\r\n  private notificationsURL:string = this.mainURL + 'api/notifications/';\r\n  private isLoggedInURL:string = this.mainURL + 'api/login/check_login';\r\n  private searchURL:string = this.mainURL + 'api/search';\r\n  private changePasswordURL:string = this.mainURL + 'api/users/changepassword';\r\n  private userInfoURL:string = this.mainURL + 'api/users/userinfo';\r\n  private refreshTokenURL:string = this.mainURL + 'api/login/refresh_token';\r\n  private pendingRequestsURL:string = this.mainURL + 'api/friends/pending_requests';\r\n  private cancelRequestURL:string = this.mainURL + 'api/friends/cancel_request';\r\n  private setBinarySettingsURL:string = this.mainURL + 'api/users/set_binary_settings';\r\n  private deleteAccountURL:string = this.mainURL + 'api/users/delete_account';\r\n  private grantAccessTokenURL:string = this.mainURL + 'api/login/grant_access_token';\r\n  private changePinURL:string = this.mainURL + 'api/users/change_pin';\r\n  private getSocketOperationsURL:string = this.mainURL + 'api/users/get_socket_operations';\r\n  private deleteOperationsURL:string = this.mainURL + 'api/users/delete_operations';\r\n  private changeLoginStatusURL:string = this.mainURL + 'api/login/change_login_status';\r\n\r\n  constructor(\r\n    private http:Http,\r\n  ) { }\r\n\r\n  public setToken(token:string):void {\r\n    this.token = token;\r\n  }\r\n\r\n  private _headers():Headers {\r\n    const headers = new Headers();\r\n\r\n    headers.append('Content-Type','application/json');\r\n    headers.append('Authorization','JWT ' + this.token);\r\n\r\n    return headers;\r\n  }\r\n\r\n  public async setBinarySettings(body) {\r\n    const response = await this.http.post(this.setBinarySettingsURL,body,{ headers:this._headers() }).toPromise();\r\n\r\n    return response.json();\r\n  }\r\n\r\n  public async changeLoginStatus(body) {\r\n    try {\r\n      const response = await this.http.post(this.changeLoginStatusURL,body,{ headers:this._headers() }).toPromise();\r\n\r\n      return response.json();\r\n    } catch(e) {\r\n      throw e.json();\r\n    }\r\n  }\r\n\r\n  public async getSocketOperations() {\r\n    try {\r\n      const response = await this.http.get(this.getSocketOperationsURL,{ headers:this._headers() }).toPromise();\r\n\r\n      return response.json();\r\n    } catch(e) {\r\n      throw e.json();\r\n    }\r\n  }\r\n\r\n  public async deleteOperations(body) {\r\n    try {\r\n      const response = await this.http.post(this.deleteOperationsURL,body,{ headers:this._headers() }).toPromise();\r\n\r\n      return response.json();\r\n    } catch(e) {\r\n      throw e.json();\r\n    }\r\n  }\r\n\r\n  public async changePin(body) {\r\n    try {\r\n      const response = await this.http.post(this.changePinURL,body,{ headers:this._headers() }).toPromise();\r\n\r\n      return response.json();\r\n    } catch(e) {\r\n      throw e.json();\r\n    }\r\n  }\r\n\r\n  public isLoggedIn():any {\r\n    return new Promise(async (resolve,reject) => {\r\n      const token = await this.getToken();\r\n\r\n      if ( !token ) {\r\n        return reject(false);\r\n      }\r\n\r\n      this.token = token;\r\n      \r\n      this\r\n        .http\r\n        .get(this.isLoggedInURL , { headers:this._headers() })\r\n        .map((res) => res.json())\r\n        .subscribe((res) => {\r\n          resolve(res);\r\n\r\n          reject(false);\r\n        },() => {\r\n          reject(false);\r\n        });\r\n    });\r\n  }\r\n\r\n  public async refreshToken() {\r\n    const response= await this.http.post(this.refreshTokenURL,{},{ headers:this._headers() }).toPromise();\r\n\r\n    return response.json();\r\n  }\r\n\r\n  public async fetchUserInfo() {\r\n    const user = await this.http.get(this.userInfoURL,{ headers:this._headers() }).toPromise();\r\n\r\n    return user.json();\r\n  }\r\n\r\n  public async channgePassword(options) {\r\n    try {\r\n      const response = await this.http.post(this.changePasswordURL,options,{ headers:this._headers() }).toPromise();\r\n\r\n      return response.json();\r\n    } catch(e) {\r\n      throw e.json();\r\n    }\r\n  }\r\n\r\n  public getNotifications() {\r\n    return this.http.get(this.notificationsURL,{ headers:this._headers() })\r\n      .map((res) => res.json())\r\n      .catch((error) => Observable.throw(error || 'Server error'));\r\n  }\r\n\r\n  public dismissNotification(notificationID:string) {\r\n    return this.http.post(this.dismissOneNofiticationURL,{ notificationID },{ headers:this._headers() })\r\n      .map((res) => res.json())\r\n      .catch((error) => Observable.throw(error || 'Server error'));\r\n  }\r\n\r\n  public dismissAllNotifications() {\r\n    return this.http.post(this.dismissAllNotificationsURL,{  },{ headers:this._headers() })\r\n      .map((res) => res.json())\r\n      .catch((error) => Observable.throw(error || 'Server error'));\r\n  }\r\n\r\n  public async getPendingRequests() {\r\n    const response = await this.http.get(this.pendingRequestsURL,{ headers:this._headers() }).toPromise();\r\n\r\n    return response.json();\r\n  }\r\n\r\n  public async cancelRequest(body) {\r\n    const response = await this.http.post(this.cancelRequestURL,body,{ headers:this._headers() }).toPromise();\r\n\r\n    return response.json();\r\n  }\r\n\r\n  public getAllFriends() {\r\n    return this.http.get(this.getAllFriendsURL,{ headers:this._headers() })\r\n      .map((res) => res.json())\r\n      .catch((error) => Observable.throw(error || 'Server error'));    \r\n  }\r\n\r\n  public addFriend(id:string) {\r\n    return this.http.post(this.addFriendURL,{ id },{ headers:this._headers() })\r\n      .map((res) => res.json())\r\n      .catch((error) => Observable.throw(error || 'Server error'));\r\n  }\r\n\r\n  public deleteFriend(IdFriendToRemove) {\r\n    return this.http.post(this.deleteFriendURL,{ IdFriendToRemove },{ headers:this._headers() })\r\n      .map((res) => res.json())\r\n      .catch((error) => Observable.throw(error || 'Server error'));\r\n  }\r\n\r\n  public confirmFriendRequest(id:string) {\r\n    return this.http.post(this.confirmFriendURL,{ id },{ headers:this._headers() })\r\n      .map((res) => res.json())\r\n      .catch((error) => Observable.throw(error || 'Server error'));\r\n  }\r\n\r\n  public searchFriends(q:string) {\r\n    return this.http.post(this.searchURL,{ q },{ headers:this._headers() })\r\n      .map((res) => res.json())\r\n      .catch((error) => Observable.throw(error || 'Server error'));\r\n  }\r\n\r\n  public getInitialMessages() {\r\n    return this.http.get(this.initialMessagesURL,{ headers:this._headers() })\r\n      .map((res) => res.json())\r\n      .catch((error) => Observable.throw(error || 'Server error'));\r\n  }\r\n\r\n  public deleteInitialMessages(userID:number) {\r\n    return this.http.post(this.deleteInitialMessagesURL,{ userID },{ headers:this._headers() })\r\n      .map((res) => res.json())\r\n      .catch((error) => Observable.throw(error || 'Server error'));\r\n  }\r\n\r\n  public async deleteAccount(body) {\r\n    const response= await this.http.post(this.deleteAccountURL,body,{ headers:this._headers() }).toPromise();\r\n\r\n    return response.json();\r\n  }\r\n\r\n  public async grantAccessToken(body) {\r\n    const headers = new Headers();\r\n    headers.append('Content-Type','application/json');\r\n\r\n    const response= await this.http.post(this.grantAccessTokenURL,body,{ headers }).toPromise();\r\n\r\n    return response.json();\r\n  }\r\n\r\n  public async getToken() {\r\n    try {\r\n      const token = await SecureDataStorage.Instance().get('token');\r\n\r\n      return token;\r\n    } catch(e) {\r\n      throw e;\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/api.service.ts","import { Device } from 'ionic-native';\nimport { SecureDataStorage } from '../Libs/SecureDataStorage';\n\nexport class Config {\n  private static _config = {\n    // API_URL:'http://192.168.0.104:3000/',\n    API_URL:'https://nohistorychat.com/',\n    ENV:'production',\n    IS_PRODUCTION:true\n  }\n\n  private static _defaultInfo = {\n    pin_login_enabled:0\n  };\n\n  public static async updateInfo(key,value) {\n    const data = await SecureDataStorage.Instance().get('userInfo');\n\n    data[key] = value;\n\n    return await SecureDataStorage.Instance().set('userInfo',data);\n  }\n\n  public static async storeInfo(data) {\n    return await SecureDataStorage.Instance().set('userInfo',data);\n  }\n\n  public static async getInfo() {\n    const info = await SecureDataStorage.Instance().get('userInfo');\n\n    const output = {\n      info:info || Config._defaultInfo,\n      default:!info\n    };\n\n    return output;\n  }\n\n  public static getConfig(param:string):any {\n    return Config._config[param];\n  }\n\n  public static getAllConfig() {\n    return Config._config;\n  }\n\n  public static checkIfDeviceInfoAvailable():boolean {\n    const deviceInfo = Config.getDeviceInfo();\n\n    return (\n      deviceInfo.uuid && \n      deviceInfo.serial &&\n      deviceInfo.manufacturer &&\n      deviceInfo.manufacturer !== \"unknown\" &&\n      deviceInfo.serial !== \"unknown\"\n    );\n  }\n\n  public static getDeviceInfo() {\n    return {\n      uuid:Device.uuid,\n      serial:Device.serial,\n      manufacturer:Device.manufacturer\n    };\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Libs/Config.ts","import { SecureStorage } from '@ionic-native/secure-storage';\nimport { Storage } from '@ionic/storage';\nimport { Platform } from 'ionic-angular';\nimport { ServiceLocator } from '../Libs/Injector';\nimport { Config } from '../Libs/Config';\n\nexport class SecureDataStorage {\n  private static _instance:SecureDataStorage;\n  private _storageName:string = 'tokensStorage';\n  private platform:Platform;\n  private secureStorage:SecureStorage;\n  private storage:Storage\n\n  public static Instance() {\n    if ( !SecureDataStorage._instance ) {\n      SecureDataStorage._instance = new SecureDataStorage();\n    }\n\n    return SecureDataStorage._instance;\n  }\n\n  constructor() {\n    this.platform = ServiceLocator.injector.get(Platform);\n    this.secureStorage = ServiceLocator.injector.get(SecureStorage);\n    this.storage = ServiceLocator.injector.get(Storage);\n  }\n\n  public async checkIfSSAvailable() {\n    try {\n      await new SecureStorage();\n\n      return true;\n    } catch(e) {\n      return false;\n    }\n  }\n\n  private async _init() {\n    await this.platform.ready();\n\n    if ( Config.getConfig('IS_PRODUCTION') ) {\n      return await this.secureStorage.create(this._storageName);\n    } else {\n      return this.storage;\n    }\n  }\n\n  public async get(key:string) {\n    try {\n      const storage = await this._init();\n      let value = await storage.get(key);\n\n      try { value = JSON.parse(value) } catch(e) { }\n\n      return value;\n    } catch(e) {\n      return null;\n    }\n  }\n\n  public async set(key:string,value:any) {\n    try {\n      if ( typeof value === 'object' ) {\n        value = JSON.stringify(value);\n      }\n  \n      if ( Config.getConfig('IS_PRODUCTION') ) {\n        const storage = await this.secureStorage.create(this._storageName);\n  \n        return await storage.set(key,value);\n      } else {\n        return await this.storage.set(key,value);\n      }\n    } catch(e) {\n      throw e;\n    }\n  }\n\n  public async remove(key) {\n    try {\n      const storage = await this._init();\n\n      await storage.remove(key);\n    } catch(e) {\n      throw e;\n    }\n  }\n\n  public async clear() {\n    try {\n      const storage = await this._init();\n\n      await storage.clear();\n    } catch(e) {\n      throw e;\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Libs/SecureDataStorage.ts","import { Injector } from \"@angular/core\";\n\nexport class ServiceLocator {\n  static injector: Injector;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Libs/Injector.ts","import { Component } from '@angular/core';\nimport { Events } from 'ionic-angular';\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { LoadingController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-logout',\n  templateUrl: 'logout.html'\n})\nexport class Logout {\n  constructor(\n    private events:Events,\n    private authenticationService:AuthenticationService,\n    private loadingController:LoadingController\n  ) { }  \n\n  async ionViewWillEnter() {\n    const loading = this.loadingController.create({\n      spinner:'bubbles', content:'Loging out...'\n    });\n\n    loading.present();\n\n    await this.authenticationService.logOut();\n\n    loading.dismiss();\n    loading.onDidDismiss(() => this.events.publish('user:logout'));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/logout/logout.ts","import { Component } from '@angular/core';\nimport { NavController, LoadingController,AlertController } from 'ionic-angular';\n\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { ErrorResolverService } from '../../services/errorResolver.service';\nimport { Form } from '../../Libs/Form';\nimport { LogIn } from '../login/login';\nimport { Config } from '../../Libs/Config';\nimport { SecureDataStorage } from '../../Libs/SecureDataStorage';\n\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html',\n  providers:[ErrorResolverService]\n})\nexport class Register {\n  private user = {\n    email:'',\n    password:'',\n    confirmPassword:'',\n    username:'',\n    deviceInfo:{}\n  }\n\n  private errors:string[];\n  private isAgreeToTermsChecked:boolean = false;\n  private showTermsOfUse:boolean = false;\n\n  private toggleTermsOfUse():void {\n    this.showTermsOfUse = !this.showTermsOfUse;\n  }\n\n  constructor(\n    private navCtrl: NavController,\n    private authenticationService:AuthenticationService,\n    private errorResolverService:ErrorResolverService,\n    private loadingController:LoadingController,\n    private alertController:AlertController\n  ) { }\n\n  private async ionViewWillEnter() {\n    if ( Config.getConfig('IS_PRODUCTION') ) {\n      // check if some device info params are null, if they are\n      // user will not be able to sign up from this mobile device\n      if ( !Config.checkIfDeviceInfoAvailable()  ) {\n        this.alertController.create({\n          title:'Device Error',\n          message:`No access to informations about this device. You can't create an account from this device`,\n          buttons:['OK']\n        }).present();\n      }\n\n      const secureStorageAvailable =  await SecureDataStorage.Instance().checkIfSSAvailable();\n\n      if ( !secureStorageAvailable ) {\n        this.alertController.create({\n          title:'Security Error.',\n          message:`Please enable screen lock on your device. This application will not work without it.`\n        }).present();\n      }\n    }\n  }\n \n  private checkIfUsernameEmailExists(username:string,email:string) {\n    return new Promise((resolve,reject) => {\n      this.authenticationService.checkEmailUsername({ username,email })\n        .subscribe((res) => {\n          resolve(res);\n        },(err) => {\n          reject(err);\n        })\n    });\n  }\n\n  private createFormObj():Form {\n    const usernameRegex = '^[a-zA-Z0-9\\\\._]{5,20}$';\n    const passwordRegex = '^(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z._]{8,16}$';\n\n    const form = new Form({\n      username:`bail|required|minlength:5|maxlength:20|regex:${usernameRegex}`,\n      password:`bail|required|minlength:8|maxlength:16|regex:${passwordRegex}:g|same:confirmPassword`,\n      confirmPassword:'required',\n      email:'bail|required|email'\n    });\n\n    form.setCustomErrorMessages({\n      username:[\n        ['required','Username is required'],\n        ['minlength','Minimum of 5 characters for username.'],\n        ['maxlength','Maximum of 20 characters for username'],\n        ['regex','Only digits, letters, \".\" and \"_\" characters are allowed for username.']\n      ],\n      password:[\n        ['required','Password is required'],\n        ['minlength','Password needs to have between 8 and 16 characters'],\n        ['maxlength','Password is too long'],\n        ['regex','Password must containt one digit, and one uppercase letter. Numbers, letters \".\" and \"_\" are allowed'],\n        ['same','Passwords doesn\"t match.']\n      ],\n      confirmPassword:[\n        ['required','Confirm your password']\n      ],\n      email:[\n        ['required','Email is required'],\n        ['email','Please enter valid email']\n      ]\n    });\n\n    return form;\n  }\n\n  private async register() {\n    let loadingValidatingEmailUsername;\n\n    try {\n      const form = this.createFormObj();\n\n      form.bindValues(this.user);\n      form.validate();\n\n      if ( !form.isValid() ) {\n        return this.errors = form.errorMessages();\n      }\n\n      if ( !this.isAgreeToTermsChecked ) {\n        return await this.alertController.create({\n          title:'Terms of use.',\n          subTitle:'To continue, agree with our terms of use!',\n          buttons:['OK']\n        }).present();\n      }\n\n      loadingValidatingEmailUsername = this.loadingController.create({\n        spinner:'bubbles',\n        content:'Validating...'\n      });\n\n      await loadingValidatingEmailUsername.present();\n\n      const checkIfExists:any = await this.checkIfUsernameEmailExists(this.user.username,this.user.email);\n\n      const errors = [];\n      \n      if ( checkIfExists.usernameAlreadyExists ) {\n        errors.push('Username already exists');\n      }\n\n      if ( checkIfExists.emailAlreadyExists ) {\n        errors.push('Email already exists');\n      }\n\n      if ( errors.length > 0 ) {\n        this.errors = errors;\n\n        return;\n      }\n    } catch(e) {\n      return this.errorResolverService.presentAlertError('Registration Failed',e.errorCode);\n    } finally{\n      if ( loadingValidatingEmailUsername ) {\n        await loadingValidatingEmailUsername.dismiss();\n      }\n    }\n\n    this.errors = null;\n\n    const loading = this.loadingController.create({\n      spinner:'bubbles',\n      content:'Registration started'\n    });\n\n    await loading.present();\n\n    this.user.deviceInfo = Config.getDeviceInfo();\n\n    this.authenticationService.register(this.user).subscribe(async(response) => {\n      await loading.dismiss();\n\n      if ( response.success ) {\n        this.user = {\n          email:'',\n          password:'',\n          confirmPassword:'',\n          username:'',\n          deviceInfo:{}\n        };\n\n        const alert = this.alertController.create({\n          title:'Registration Sucessfull',\n          subTitle:'Confirm your email and and you can log in!',\n          buttons:['OK']\n        });\n\n        await alert.present();\n\n        alert.onDidDismiss(() => this.navCtrl.setRoot(LogIn));\n      } else {\n        this.errorResolverService.presentAlertError('Registration Failed',response.errorCode);\n      }\n    },(err) => {\n      loading.dismiss();\n      this.errorResolverService.presentAlertError('Registration Failed',err.errorCode);\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts","import { Component,ApplicationRef } from '@angular/core';\nimport { Events, AlertController, Alert } from 'ionic-angular';\nimport { APIService } from '../../services/api.service';\nimport { NotificationsService } from '../../services/notifications.service';\nimport { MessagesService } from '../../services/messages.service';\nimport { FriendsService } from '../../services/friends.service';\nimport { SocketService } from '../../services/socket.service';\nimport { ErrorResolverService } from '../../services/errorResolver.service';\nimport { TokenService } from '../../services/token.service';\nimport { SettingsService } from '../../services/settings.service';\nimport { Platform,ToastController, Loading } from 'ionic-angular';\nimport { BackgroundMode, Network } from 'ionic-native';\nimport { App, LoadingController } from \"ionic-angular/index\";\nimport { Subscription } from 'rxjs';\nimport { NetworkService } from '../../services/network.service';\n\n@Component({\n  selector: 'page-chat-main',\n  templateUrl: 'chat-main.html',\n})\nexport class ChatMain {\n  private notifications;\n  private friends;\n  private pendingRequests;\n  private unreadMessages = {};\n  private backBtnExitApp:boolean = false;\n  private onResumeSubscriber:Subscription;\n  private onPauseSubscriber:Subscription;\n  private onConnectSubscriber:Subscription;\n  private onDisconnectSubscriber:Subscription;\n  private backButtonDeregister:Function;\n  private disconnectAlert:Alert;\n\n  constructor (\n    private networkService:NetworkService,\n    private apiService:APIService,\n    private events:Events,\n    private notificationsService:NotificationsService,\n    private messagesService:MessagesService,\n    private socketService:SocketService,\n    private friendsService:FriendsService,\n    private errorResolverService:ErrorResolverService,\n    private alertController:AlertController,\n    private tokenService:TokenService,\n    private settingsService:SettingsService,\n    private platform:Platform,\n    private app:App,\n    private toastController:ToastController,\n    private loadingController:LoadingController,\n    private appRef:ApplicationRef\n  ) {\n    this.tokenService.startRefreshing();\n\n    this.platform.ready().then(() => {\n      // if settings are loaded, that means we are not on this page first time\n      // so dont register callbacks twice...\n      if ( !this.settingsService.areSettingsLoaded() ) {\n        this.events.subscribe('user:logout',() => {\n          this.onPauseSubscriber.unsubscribe();\n          this.onResumeSubscriber.unsubscribe();\n          this.onConnectSubscriber.unsubscribe();\n          this.onDisconnectSubscriber.unsubscribe();\n          this.backButtonDeregister();\n        });\n\n        this.onConnectSubscriber = Network.onConnect().subscribe(this.onConnect.bind(this));\n        this.onDisconnectSubscriber = Network.onDisconnect().subscribe(this.onDisconnect.bind(this));\n        \n        BackgroundMode.configure({ silent:true });\n        BackgroundMode.setDefaults({ silent:true });\n        BackgroundMode.enable();\n\n        this.backButtonDeregister = this.platform.registerBackButtonAction(this.onBackBtnClick.bind(this));\n        this.onResumeSubscriber = this.platform.pause.subscribe(this.onPause.bind(this));\n        this.onPauseSubscriber = this.platform.resume.subscribe(this.onResume.bind(this));\n      }\n    });\n  }\n\n  private subscribeEvents() {\n    this.events.subscribe('message:stored-unread-message',this.storedUnreadMessage.bind(this));\n    this.events.subscribe('friend_you_removed',this.friendYouRemoved.bind(this));\n    this.events.subscribe('friend:login',this.friendLogIn.bind(this));\n    this.events.subscribe('friend:logout',this.friendLogOut.bind(this));\n  }\n\n  private unSubscribeEvents() {\n    this.events.unsubscribe('friend:login');\n    this.events.unsubscribe('friend:logout');\n    this.events.unsubscribe('friend_you_removed');\n    this.events.unsubscribe('message:stored-unread-message');\n  }\n\n  private _loadingOnReconnect;\n\n  private async onConnect() {\n    if ( this.disconnectAlert ) {\n      await this.disconnectAlert.dismiss();\n    }\n\n    if ( this._loadingOnReconnect ) {\n      await this._loadingOnReconnect.dismiss();\n    }\n\n    this._reconnectionOccured = true;\n\n    try {\n      this._loadingOnReconnect = this.loadingController.create({\n        spinner:'bubbles',\n        content:'Reconnecting...',\n        duration:5000\n      });\n\n      this.socketService.getSocket().connect();\n      await this._loadingOnReconnect.present();\n      await this.platform.ready();\n      await this.tokenService.checkLoginStatus();\n      await this.socketService.getConnection();\n      const { operations } = await this.apiService.getSocketOperations();\n      await this.apiService.deleteOperations({  });\n      await this.socketService.executeSocketOperations(operations);\n\n      const toast = this.toastController.create({\n        duration:3000,\n        position:'top',\n        message:'Reconnection successful!'\n      });\n\n      await toast.present();\n    } catch(e) {\n      if ( !BackgroundMode.isActive() ) {\n        this.errorResolverService.presentAlertError('Reconnecting Error',e.errorCode);\n      }\n    } finally {\n      if ( this._loadingOnReconnect ) { await this._loadingOnReconnect.dismiss(); }\n    }\n  }\n\n  private async onDisconnect() {\n    if ( this._loadingOnReconnect ) {\n      await this._loadingOnReconnect.dismiss();\n    }\n\n    if ( BackgroundMode.isActive() ) return;\n\n    this.socketService.getSocket().disconnect();\n\n    this.disconnectAlert = this.alertController.create({\n      title:'Connection Error',\n      message:'No internet connection.',\n      buttons:['OK']\n    });\n\n    await this.disconnectAlert.present();\n  }\n\n  private async onPause() {\n    this.stopTicking();\n    this.tokenService.stopRefreshing();\n  }\n\n  private async onResume() {\n    this.startTicking();\n\n    if ( !this.networkService.hasInternetConnection() ) {\n      const toast = this.toastController.create({\n        duration:3000,\n        position:'top',\n        message:'No Internet Connection!'\n      });\n  \n      return toast.present();\n    }\n\n    try {\n      await this.tokenService.checkLoginStatus();\n      this.tokenService.startRefreshing();\n      await this.socketService.executeSocketOperations();\n    } catch(e) {\n      await this.onConnect();\n    }\n  }\n\n  private async onBackBtnClick() {\n    const overlay = this.app._appRoot._overlayPortal.getActive();\n    const nav = this.app.getActiveNav();\n\n    if ( overlay && overlay.dismiss ) {\n      return overlay.dismiss();\n    }\n\n    if ( nav.canGoBack() ) {\n      return nav.pop();\n    }\n\n    if ( this.backBtnExitApp ) {\n      await this.apiService.changeLoginStatus({ status:0 });\n      this.platform.exitApp();\n    } else {\n      const toast = this.toastController.create({\n        duration:2000,\n        position:'bottom',\n        message:'Tap again to exit.'\n      });\n\n      toast.present();\n      this.backBtnExitApp = true;\n      setTimeout(() => this.backBtnExitApp = false,3000);\n    }\n  }\n\n  private storedUnreadMessage() {\n    this.unreadMessages = this.messagesService.getUnreadMessages();\n  }\n\n  private friendYouRemoved(data) {\n    const friendIndex = this.friends.findIndex(x => x.id_user === data.IdUserRemoving);\n\n    if ( friendIndex !== -1 ) {\n      this.friends.splice(friendIndex,1);\n    }\n  }\n\n  private friendLogIn(data) {\n    try {\n      this.friends.find(x => x.id_user === data.friendID).online = 1;\n    } catch(e) { }\n  }\n\n  private friendLogOut(data) {\n    try {\n      this.friends.find(x => x.id_user === data.friendID).online = 0;\n    } catch(e) { }\n  }\n\n  private async loadData() {\n    try {\n      [this.friends,this.notifications,this.pendingRequests] = await Promise.all([\n        this.friendsService.getFriends(),\n        this.notificationsService.getNotifications(),\n        this.friendsService.getPendingRequets(),\n        this.settingsService.fetchSettings()\n      ]);\n\n      await this.messagesService.getInitialMessages();\n      this.unreadMessages = this.messagesService.getUnreadMessages();\n    } catch(e) {\n      throw e;\n    }\n  }\n\n  private async ionViewWillEnter() {\n    this.subscribeEvents();\n\n    if ( this.networkService.hasInternetConnection() ) {\n      let loading;\n\n      try {\n        if ( this.settingsService.shouldDisplayMainLoadingScreen() ) {\n          this.settingsService.toggleMainLoadingScreen();\n\n          loading = this.loadingController.create({\n            spinner:'bubbles',\n            content:'Loading Data...'\n          });\n          \n          await loading.present();\n        }\n        \n        await this.loadData();\n        await this.socketService.getConnection();\n        await this.socketService.executeTempOperations();\n      } catch(err) {\n        this.errorResolverService.presentAlertError('Error',err.statusCode);\n      } finally {\n        if ( loading ) { loading.dismiss(); }\n      }\n    }\n  }\n\n  private async ionViewWillLeave() {\n    this.unSubscribeEvents();\n  }\n\n  private startChatting(userOptions):void {\n    this.events.publish('start:chatting',userOptions);\n  }\n\n  private async cancelRequest(idUser:number) {\n    try {\n      await this.friendsService.cancelRequest(idUser);\n\n      this.friendsService.removePendingRequest({ friend:{ id_user:idUser } });\n      this.pendingRequests = await this.friendsService.getPendingRequets();\n    } catch(e) {\n      this.errorResolverService.presentAlertError('Error',e.errorCode);\n    }\n  }\n\n  private dismissNotification(notificationID):void {\n    this\n      .apiService\n      .dismissNotification(notificationID)\n      .subscribe((response) => {\n        if ( response.success ) {\n          this.notifications = this.notificationsService.dismissNotification(notificationID);\n        } else {\n          this.errorResolverService.presentAlertError('Error',response.errorCode);\n        }\n      },(err) => {\n        this.errorResolverService.presentAlertError('Error',err.errorCode);\n      });\n  }\n\n  private dismissAllNotifications():void {\n    this\n      .apiService\n        .dismissAllNotifications()\n        .subscribe(() => {\n          this.notifications = [];\n          this.notificationsService.dismissAll();\n        },(err) => {\n          this.errorResolverService.presentAlertError('Error',err.errorCode);\n        });\n  }\n\n  private async confirmFriendRequest(id_user:string,notificationID:string) {\n    const loading = this.loadingController.create({\n      spinner:'bubbles',\n      content:'Confirming friend request...'\n    });\n\n    await loading.present();\n\n    this\n      .apiService\n      .confirmFriendRequest(id_user)\n      .subscribe(async(response) => {\n        await loading.dismiss();\n\n        if ( response.success ) {\n          this.notifications = this.notificationsService.dismissNotification(notificationID);\n          this.dismissNotification(notificationID);\n        } else {\n          this.errorResolverService.presentAlertError('Error',response.errorCode);\n        }\n      },async () => {\n        await loading.dismiss();\n\n        const alert = this.alertController.create({\n          title:'Error occured',\n          subTitle:'Error occured while trying to confirm this friend request. It seems like it has been canceled...',\n          buttons:['OK']\n        });\n\n        await alert.present();\n      });\n  }\n  // updating the view stops when user is reconnected\n  // so start ticking only when reconnected\n  private _tickingInterval;\n  private _reconnectionOccured:boolean = false;\n\n  public startTicking() {\n    if ( !this._reconnectionOccured ) return;\n\n    this._tickingInterval = setInterval(() => { this.appRef.tick(); }, 500);\n  }\n\n  public stopTicking() {\n    try {\n      clearInterval(this._tickingInterval);\n    } catch(e) { }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-main/chat-main.ts","import { Injectable } from '@angular/core';\r\nimport { Events } from 'ionic-angular';\r\nimport { APIService } from './api.service';\r\n\r\n@Injectable()\r\nexport class NotificationsService {\r\n  private notifications = [];\r\n  private areNotificationsLoaded = false;\r\n\r\n  constructor(\r\n    private apiService:APIService,\r\n    private events:Events\r\n  ) {\r\n    this.events.subscribe('notification:new-notification',(data) => {\r\n      this.notifications.push(data);\r\n    });\r\n\r\n    this.events.subscribe('user:logout',() => {\r\n      this.notifications = [];\r\n      this.areNotificationsLoaded = false;\r\n    });\r\n  }\r\n\r\n  public dismissNotification(notificationID:string) {\r\n    const notificationIndex = this.notifications.findIndex(\r\n      ({ id_notification }) => id_notification === notificationID\r\n    );\r\n\r\n    if ( notificationIndex !== -1 ) {\r\n      this.notifications.splice(notificationIndex,1);\r\n    }\r\n\r\n    return this.notifications;\r\n  }\r\n\r\n  public dismissAll() {\r\n    this.notifications = [];\r\n  }\r\n\r\n  public getNotifications() {\r\n    return new Promise((resolve,reject) => {\r\n      if ( this.areNotificationsLoaded === true ) {\r\n        return resolve(this.notifications);\r\n      }\r\n\r\n      this.apiService.getNotifications() .subscribe((res) => {\r\n        this.notifications = res;\r\n        this.areNotificationsLoaded = true;\r\n        \r\n        resolve(this.notifications);\r\n      },(err) => {\r\n        reject(err);\r\n      });\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/notifications.service.ts","import { Component } from '@angular/core';\nimport { AlertController, LoadingController } from 'ionic-angular';\nimport { APIService } from '../../services/api.service';\nimport { ErrorResolverService } from '../../services/errorResolver.service';\nimport { FriendsService } from '../../services/friends.service';\n\n@Component({\n  selector: 'page-search',\n  templateUrl: 'search.html',\n  providers:[ErrorResolverService]\n})\nexport class Search {\n  private searchQuery:string = '';\n  private users = null;\n\n  constructor(\n    private apiService:APIService,\n    private friendsService:FriendsService,\n    private errorResolverService:ErrorResolverService,\n    private alertController:AlertController,\n    private loading:LoadingController\n  ) { }\n\n  private addFriend(id_user:string,username:string):void {\n    this\n      .apiService\n      .addFriend(id_user)\n      .subscribe((res) => {\n        if ( res.success !== true ) {\n          return this.errorResolverService.presentAlertError('Error',res.errorCode);\n        }\n\n        this.alertController.create({\n          title:'Success',\n          subTitle:`\n            Successfully added to your friend list! \n            You can start chatting as soon as the person confirm your request.\n          `,\n          buttons:['OK']\n        }).present();\n\n        this.friendsService.addToPendingRequest({ id_user,username });\n\n        const userIndex = this.users.findIndex(x => x.id_user === id_user);\n\n        if ( userIndex !== -1 ) {\n          this.users.splice(userIndex, 1);\n        }\n      },(err) => {\n        this.errorResolverService.presentAlertError('Error',err.errorCode);\n      });\n  }\n\n  private search():void {\n    if ( !this.searchQuery ) return;\n\n    const loading = this.loading.create({\n      content:'Searching...',\n      spinner:'bubbles'\n    });\n\n    loading.present();\n\n    this\n      .apiService\n      .searchFriends(this.searchQuery)\n      .subscribe((response) => {\n        loading.dismiss();\n        this.users = response.result;\n      },(err) => {\n        loading.dismiss();\n        this.errorResolverService.presentAlertError('Error',err.errorCode);\n      });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { MessagesService } from '../../services/messages.service';\nimport { Events,AlertController,Content, ToastController, Keyboard as IonicKeyboard } from 'ionic-angular';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'page-chatmessages',\n  templateUrl: 'chatmessages.html',\n})\nexport class ChatMessages {\n  private username:string;\n  private message:string = '';\n  private messages = [];\n  private scrollable = '';\n  // alert only once that user is not loggedin\n  private loggedInNotified:boolean = false;\n  private onKeyboardShowSubscriber:Subscription;\n\n  @ViewChild(Content) content: Content;\n  @ViewChild('messageField') messageField:ElementRef;\n\n  constructor(\n    private keyboardIonic:IonicKeyboard,\n    private keyboardNative:Keyboard,\n    private messagesService:MessagesService,\n    private events:Events,\n    private alertController:AlertController,\n    private toastController:ToastController\n  ) { }\n\n  ionViewWillEnter() {\n    this.username = this.messagesService.getCurrentChattingUser();\n    this.onKeyboardShowSubscriber = this.keyboardNative.onKeyboardShow().subscribe(() => this.scroll());\n    this.messages = [];\n    this.events.subscribe('message:message-recieved',this.messageReceived.bind(this));\n    this.events.subscribe('message:not-in-friends-list',this.notInFriendsList.bind(this));\n    this.events.subscribe('message:user-not-online',this.userNotOnline.bind(this));\n    this.messages = this.messagesService.getMessages();\n    this.scroll();\n  }\n\n  ionViewWillLeave() {\n    this.events.unsubscribe('message:message-recieved');\n    this.events.unsubscribe('message:user-not-online');\n    this.events.unsubscribe('message:not-in-friends-list');\n    this.onKeyboardShowSubscriber.unsubscribe();\n  }\n\n  private scroll() {\n    setTimeout(() => { this.content.scrollToBottom(); },50);\n  }\n\n  private notInFriendsList() {\n    const alert = this.alertController.create({\n      title:'Sending failed',\n      subTitle:'This user is not in your friends list!',\n      buttons:['OK']\n    });\n\n    alert.present();\n  }\n\n  private userNotOnline() {\n    if ( this.loggedInNotified ) return;\n\n    const toast = this.toastController.create({\n      message:'This user is not online.',\n      position:'top',\n      duration:2000\n    });\n\n    toast.present();\n    this.loggedInNotified = true;\n  }\n\n  private messageReceived() {\n    const dimensions = this.content.getContentDimensions();\n    // making sure scroll is disabled while pushing new message into the page!\n    this.scrollable = 'no-scroll';\n    this.messages = this.messagesService.getMessages();\n    this.scrollable = '';\n    // // scroll to bottom when receives message, if already at the bottom!\n    if ( this.keyboardIonic.isOpen() ) {\n      this.scroll();\n      this.messageField.nativeElement.focus();\n    } else {\n      if ( (dimensions.scrollTop + dimensions.contentHeight) >= dimensions.scrollHeight ) {\n        this.scroll();\n      }\n    }\n  }\n\n  private removeMessage(msg):void {\n    this.messagesService.removeLocalMessage(msg);\n    this.messages = this.messagesService.getMessages();\n  }\n\n  private sendMessage():void {\n    if ( this.message !== '' ) {\n      this.events.publish('message:send',this.message);\n      this.messages = this.messagesService.getMessages();\n      this.message = '';\n      this.scroll();\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chatmessages/chatmessages.ts","import { Component } from '@angular/core';\nimport { LoadingController,AlertController,Events } from 'ionic-angular';\n\nimport { FriendsService } from '../../services/friends.service';\nimport { ErrorResolverService } from '../../services/errorResolver.service';\nimport { Form } from '../../Libs/Form';\nimport { Config } from '../../Libs/Config';\nimport { APIService } from '../../services/api.service';\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { SettingsService } from '../../services/settings.service';\nimport { SecureDataStorage } from '../../Libs/SecureDataStorage';\n\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html',\n  providers:[ErrorResolverService]\n})\nexport class Settings {\n  private friends;\n\n  // ion toggle change unnecessarily triggers change event\n  // checks if first time called, if so just return\n  private calledTogglingMethods = {\n    toggleOfflineMessages:0,\n    toggleUniqueDevice:0,\n    togglePinAuth:0\n  };\n\n  private user;\n  private isToggled = false;\n  private isUniqueDeviceToggled = false;\n  private isPinAuthToggled = false;\n\n  constructor(\n    private friendsService:FriendsService,\n    private errorResolverService:ErrorResolverService,\n    private loadingController:LoadingController,\n    private alertController:AlertController,\n    private events:Events,\n    private apiService:APIService,\n    private authenticationService:AuthenticationService,\n    private settingsService:SettingsService\n  ) { }\n\n  async ionViewWillEnter() {\n    try {\n      [this.friends,this.user] = await Promise.all([\n        this.friendsService.getFriends(),\n        this.settingsService.fetchSettings()\n      ]);\n\n      this.isToggled = this.user.allow_offline_messages;\n      this.isUniqueDeviceToggled = this.user.unique_device;\n      this.isPinAuthToggled = this.user.pin_login_enabled;\n\n      await Config.storeInfo({\n        pin_login_enabled:this.user.pin_login_enabled\n      });\n\n      // if it is false, it wont trigger ionchange\n      // so call methods right away!\n      if ( !this.user.allow_offline_messages ) this.calledTogglingMethods.toggleOfflineMessages = 1;\n\n      if ( !this.user.unique_device ) {\n        this.calledTogglingMethods.toggleUniqueDevice = 1;\n      }\n\n      if ( !this.user.pin_login_enabled ) {\n        this.calledTogglingMethods.togglePinAuth = 1;\n      }\n    } catch(e) {\n      this.errorResolverService.presentAlertError('Friends List Error',e.errorCode);\n    }\n  }\n  \n  private async togglePinAuth() {\n    if ( this.calledTogglingMethods.togglePinAuth < 1 ) {\n      this.calledTogglingMethods.togglePinAuth++\n\n      return;\n    }\n\n    const togglePinAuthValue = this.isPinAuthToggled ? 1 : 0;\n    \n    const loading = this.loadingController.create({\n      spinner:'bubbles',\n      content:'Changing...'\n    });\n\n    loading.present();\n\n    try {\n      await this.apiService.setBinarySettings({\n        setting:'pin_login_enabled',\n        value:togglePinAuthValue\n      });\n\n      const alert = this.alertController.create({\n        title:'Success',\n        message:'Successfully changed PIN login mode!',\n        buttons:['OK']\n      });\n\n      alert.present();\n\n      await Config.updateInfo('pin_login_enabled',togglePinAuthValue);\n      this.settingsService.setSetting('pin_login_enabled',togglePinAuthValue);\n    } catch(e) {\n      this.isPinAuthToggled = !this.isPinAuthToggled;\n      this.calledTogglingMethods.togglePinAuth = 0;\n\n      e = e.json();\n      // if failed, that means user needs to enter pin for the first time\n      // later on , textbox should be added so user can change pin\n      if ( e.errorCode === 'PIN_SETTING_FIRST_TIME' ) {\n        const alert = this.alertController.create({\n          title:'Set Pin',\n          message:'Enter a 4 digit PIN eg 1234. Leading zero is not allowed.',\n          inputs:[{\n            name:'pin',\n            placeholder:'PIN',\n            type:'password'\n          },{\n            name:'pinConfirmed',\n            placeholder:'Confirm',\n            type:'password'\n          }],\n          buttons:[{\n            text:'Set',\n            handler:({ pin,pinConfirmed }):any => {\n              const form = new Form({\n                pin:'bail|required|regex:^[1-9][0-9]{3}$|same:pinConfirmed',\n                pinConfirmed:'bail|required'\n              });\n          \n              form.setCustomErrorMessages({\n                pin:[\n                  ['required','PIN is required.'],\n                  ['regex','Enter valid PIN (4 digit number).'],\n                  ['same','Confirm your PIN']\n                ]\n              });\n          \n              form.bindValues({ pin,pinConfirmed });\n              form.validate();\n\n              if ( !form.isValid() ) {\n                const alert = this.alertController.create({\n                  title:'PIN',\n                  message:form.errorMessages()[0],\n                  buttons:['OK']\n                });\n          \n                return alert.present();\n              }\n\n              this.changePin(pin);\n            }\n          },{\n            text:'Cancel',\n            role:'cancel'\n          }]\n        });\n\n        alert.present();\n      } else {\n        this.errorResolverService.presentAlertError('Error',e.errorCode);\n      }\n    } finally {\n      loading.dismiss();\n    }\n  }\n\n  private async changePin(pin:string,pinConfirmed?:string,oldPin?:string) {\n    const loading = this.loadingController.create({\n      spinner:'bubbles',\n      content:'Setting PIN...'\n    });\n\n    loading.present();\n\n    try {\n      const response = await this.apiService.changePin({\n        pin,pinConfirmed,oldPin,\n        deviceInfo:Config.getDeviceInfo()\n      });\n\n      let message = 'PIN has been successfully set. ';\n\n      if ( !this.user.pin_login_enabled ) {\n        message += 'You can now turn on PIN login.';\n      }\n\n      if ( response.success ) {\n        this.alertController.create({\n          title:'PIN',\n          message,\n          buttons:['OK']\n        }).present();\n      } else {\n        this.errorResolverService.presentAlertError('Error',response.errorCode);\n      }\n    } catch(e) {\n      this.errorResolverService.presentAlertError('Error',e.errorCode);\n    } finally {\n      loading.dismiss();\n    }\n  }\n\n  // add checks before every call, if it is first time calling\n  // ion change unnecessarily triggers change event first time\n  // so just return \n  private async toggleOfflineMessages() {\n    if ( this.calledTogglingMethods.toggleOfflineMessages < 1 ) {\n      this.calledTogglingMethods.toggleOfflineMessages++\n\n      return;\n    }\n    \n    if ( [true,false].indexOf(this.isToggled) === -1 ) return;\n\n    const allowOfflineMessagesValue = this.isToggled ? 1 : 0;\n\n    const loading = this.loadingController.create({\n      spinner:'bubbles',\n      content:'Changing...'\n    });\n\n    loading.present();\n\n    try {\n      await this.apiService.setBinarySettings({\n        setting:'allow_offline_messages',\n        value:allowOfflineMessagesValue\n      });\n\n      this.alertController.create({\n        title:'Success',\n        message:'Successfully changed allow offline messages mode!',\n        buttons:['OK']\n      }).present();\n\n      this.settingsService.setSetting(\n        'allow_offline_messages',\n        allowOfflineMessagesValue\n      );\n    } catch(e) {\n      this.errorResolverService.presentAlertError('Error',e.errorCode);\n    } finally {\n      loading.dismiss();\n    }\n  }\n\n  private async _toggleUniqueDeviceRun() {\n    const loading = this.loadingController.create({\n      spinner:'bubbles',\n      content:'Changing...'\n    });\n\n    loading.present();\n\n    try {\n      if ( [true,false].indexOf(this.isToggled) === -1 ) return;\n\n      const uniqueDeviceValue = this.isUniqueDeviceToggled ? 1 : 0;\n\n      await this.apiService.setBinarySettings({\n        setting:'unique_device',\n        value:uniqueDeviceValue\n      });\n\n      if ( uniqueDeviceValue === 0 ) {\n        await Config.updateInfo('pin_login_enabled',0);\n\n        this.settingsService.setSetting('pin_login_enabled',0);\n        this.calledTogglingMethods.togglePinAuth = 0;\n        this.user.isPinAuthToggled = false;\n      }\n      \n      this.alertController.create({\n        title:'Success',\n        message:'Successfully changed which devices can access your account!',\n        buttons:['OK']\n      }).present();\n\n      this.settingsService.setSetting(\n        'unique_device',\n        uniqueDeviceValue\n      );\n    } catch(e) {\n      this.errorResolverService.presentAlertError('Error',e.errorCode);\n    } finally {\n      loading.dismiss();\n    }\n  }\n\n  private async toggleUniqueDevice() {\n    if ( this.calledTogglingMethods.toggleUniqueDevice < 1 ) {\n      this.calledTogglingMethods.toggleUniqueDevice++\n\n      return;\n    }\n\n    const uniqueDeviceValue = this.isUniqueDeviceToggled ? 1 : 0;\n\n    if ( uniqueDeviceValue === 0 ) {\n      const alert = this.alertController.create({\n        title:'Unique device',\n        message:'Keeping this setting on will make your account much more secure. Are you sure you want to turn it off?',\n        buttons:[{\n          text:'Yes',\n          handler:this._toggleUniqueDeviceRun.bind(this)\n        },{\n          text:'No',\n          handler:() => {\n            this.isUniqueDeviceToggled = true;\n            this.calledTogglingMethods.toggleUniqueDevice = 0;\n          }\n        }]\n      });\n\n      alert.present();\n    } else {\n      this._toggleUniqueDeviceRun();\n    }\n  }\n\n  private displayOfflineMessagesInfo() {\n    this.alertController.create({\n      title:'Offline Messages',\n      message:`\n        If you turn off this setting, we won't store any messages while you are offline.\n        You will recieve messages only when online.\n      `,\n      buttons:['OK']\n    }).present();\n  }\n\n  private displayUniqueDeviceInfo() {\n    this.alertController.create({\n      title:'Unique Device',\n      message:`Device you used to create your account will be used as a unique device, allowing you to keep your\n       account much more secure. You will be able to log in only from this device. If you want to log in from another\n       device, you can turn this setting off.`,\n       buttons:['OK']\n    }).present();\n  }\n\n  private buildFormObject():Form {\n    const passwordRegex = '^(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z._]{8,16}$';\n\n    const form = new Form({\n      currentPassword:'bail|required',\n      newPassword:`bail|required|minlength:8|maxlength:16|regex:${passwordRegex}:g|same:confirmNewPassword`,\n      confirmNewPassword:'bail|required'\n    });\n\n    form.setCustomErrorMessages({\n      currentPassword:[\n        ['required','Current Password is required']\n      ],\n      newPassword:[\n        ['required','New Password is required'],\n        ['minlength','Password needs to have between 8 and 16 characters'],\n        ['maxlength','Password is too long'],\n        ['regex','Password must containt one digit, and one uppercase letter. Numbers, letters \".\" and \"_\" are allowed'],\n        ['same','Passwords doesn\"t match.']\n      ],\n      confirmNewPassword:[\n        ['required','Please confirm your password']\n      ]\n    });\n\n    return form;\n  }\n\n  private async confirmChangePassword() {\n    this.alertController.create({\n      title:'Confirm Password Changing.',\n      message:'Are you sure you want to change your password?',\n      buttons:[{\n        text:'Yes',\n        handler:() => {\n          this.alertController.create({\n            title:'Enter new password.',\n            inputs:[\n            { name:'newPassword',placeholder:'Password',type:'password'},\n            { name:'confirmNewPassword',placeholder:'Confirm',type:'password' },\n            { name:'currentPassword',placeholder:'Current password',type:'password' }],\n            buttons:[{\n              text:'Confirm',\n              handler:(data) => {\n                if ( !(data.newPassword && data.confirmNewPassword && data.currentPassword) ) {\n                  this.alertController.create({\n                    title:'Error',\n                    message:'Enter all fields.',\n                    buttons:['OK']\n                  }).present();\n\n                  return false;\n                }\n\n                const form = this.buildFormObject();\n\n                form.bindValues(data);\n                form.validate();\n\n                if ( !form.isValid() ) {\n                  this.alertController.create({\n                    title:'Error',\n                    message:form.errorMessages()[0],\n                    buttons:['OK']\n                  }).present();\n\n                  return false;\n                }\n\n                data.deviceInfo = Config.getDeviceInfo();\n\n                this.changePassword(data);\n              }\n            },{\n              text:'Cancel',\n              role:'cancel'\n            }]\n          }).present();\n        }\n      },{\n        text:'Cancel',\n        role:'cancel'\n      }]\n    }).present();\n  }\n\n  private async changePassword(body) {\n    const loading = this.loadingController.create({\n      content:'Changing password...',\n      spinner:'bubbles'\n    });\n\n    loading.present();\n\n    try {\n      await this.apiService.channgePassword(body);\n\n      this.alertController.create({\n        title:'Password Changing',\n        message:'Your password has been successfully changed!',\n        buttons:['OK']\n      }).present();\n    } catch(e) {\n      this.errorResolverService.presentAlertError('Password Error',e.errorCode);\n    } finally {\n      loading.dismiss();\n    }\n  }\n\n  private async confirmDeleteFriend(IdFriendToRemove) {\n    this.alertController.create({\n      title:'Delete friend',\n      message:'Are you sure you want to delete this friend?',\n      buttons:[{\n        text:'Cancel',\n        role:'cancel'\n      },{\n        text:'Delete',\n        handler:():any => this.deleteFriend(IdFriendToRemove)\n      }]\n    }).present();\n  }\n\n  private async deleteFriend(IdFriendToRemove) {\n    const loading = this.loadingController.create({\n      content:'Removing Friend...',\n      spinner:'bubbles'\n    });\n\n    await loading.present();\n\n    try {\n      await this.friendsService.deleteFriend(IdFriendToRemove);\n\n      this.events.publish('friends:friends-removed',{ IdFriendToRemove });\n      this.friends = await this.friendsService.getFriends();\n    } catch(e) {\n      this.errorResolverService.presentAlertError('Error',e.errorCode);\n    } finally {\n      loading.dismiss();\n    }\n  }\n\n  private async confirmDeleteAccount() {\n    const confirmAlert = this.alertController.create({\n      title:'Delete Account',\n      message:'Are you sure you want to delete your account?',\n      buttons:[{\n        text:'Yes',\n        handler:() => {\n          const passwordAlert = this.alertController.create({\n            title:'Password',\n            message:'Enter your password.',\n            inputs:[{\n              placeholder:'Password...',\n              name:'password',\n              type:'password'\n            }],\n            buttons:[{\n              text:'Confirm',\n              handler:(data):any => {\n                if ( !data.password ) {\n                  return this.alertController.create({\n                    title:'Delete Account',\n                    message:'Enter your password.',\n                    buttons:['OK']\n                  }).present();\n                }\n\n                this.deleteAccount(data.password);\n              }\n            },{\n              text:'Cancel',\n              role:'cancel'\n            }]\n          });\n\n          passwordAlert.present();\n        }\n      },{\n        text:'No',\n        role:'cancel'\n      }]\n    });\n\n    confirmAlert.present();\n  }\n\n  private async deleteAccount(password) {\n    const loading = this.loadingController.create({\n      spinner:'bubbles',\n      content:'Deleting account...'\n    });\n\n    loading.present();\n\n    try {\n      const response = await this.apiService.deleteAccount({\n        password,\n        deviceInfo:Config.getDeviceInfo()\n      });\n\n      if ( response.success !== true ) {\n        this.errorResolverService.presentAlertError('Fatal Error',response.errorCode);\n        return;\n      }\n\n      this.alertController.create({\n        title:'Success',\n        message:'Your account is now fully deleted!',\n        buttons:['OK']\n      }).present();\n \n      SecureDataStorage.Instance().clear();\n      this.authenticationService.logOut();\n      this.events.publish('user:logout');\n    } catch(e) {\n      this.errorResolverService.presentAlertError('Fatal Error',e.errorCode);\n    } finally {\n      loading.dismiss();\n    }\n  }\n\n  private confirmPinChange() {\n    this.alertController.create({\n      title:'PIN Change.',\n      message:'Are you sure you want to change your PIN?',\n      buttons:[{\n        text:'Yes',\n        handler:() => {\n          this.alertController.create({\n            title:'PIN Change.',\n            inputs:[\n              { name:'newPIN',placeholder:'PIN',type:'password' },\n              { name:'confirmNewPIN',placeholder:'Confirm',type:'password' },\n              { name:'currentPIN',placeholder:'Current PIN', type:'password' }\n            ],\n            buttons:[\n              { text:'Confirm',handler:(data) => {\n                if ( !(data.newPIN && data.confirmNewPIN && data.currentPIN) ) {\n                  this.alertController.create({\n                    title:'PIN Error',\n                    message:'Enter all fields.',\n                    buttons:['OK']\n                  }).present();\n            \n                  return false;\n                }\n\n                const pinRegex = /^[1-9][0-9]{3}$/;\n\n                if ( !(\n                  data.newPIN.match(pinRegex) &&\n                  data.confirmNewPIN.match(pinRegex) &&\n                  data.currentPIN.match(pinRegex)\n                ) ) {\n                  this.alertController.create({\n                    title:'PIN Error',\n                    buttons:['OK'],\n                    message:'Enter valid data.'\n                  }).present();\n\n                  return false;\n                }\n\n                if ( data.newPIN !== data.confirmNewPIN ) {\n                  this.alertController.create({\n                    title:'PIN Error',\n                    message:'Confirm your PIN.',\n                    buttons:['OK']\n                  }).present();\n\n                  return false;\n                }\n\n                this.changePin(data.newPIN,data.confirmNewPIN,data.currentPIN);\n              } },\n              { text:'Cancel',role:'cancel' }\n            ]\n          }).present();\n        }\n      },{\n        text:'No',\n        role:'cancel'\n      }]\n    }).present();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'about',\n  templateUrl: 'about.html',\n})\nexport class About { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/about/about.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\nimport { IonicStorageModule } from '@ionic/storage';\nimport { Device,Network } from 'ionic-native';\nimport { SecureStorage } from '@ionic-native/secure-storage';\nimport { Injector } from \"@angular/core\";\nimport { BackgroundMode } from 'ionic-native';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HttpModule } from '@angular/http'\nimport { PincodeInputModule } from  'ionic2-pincode-input';\nimport { ServiceLocator } from '../Libs/Injector';\nimport { Keyboard } from '@ionic-native/keyboard';\n\nimport { ChatMain } from '../pages/chat-main/chat-main';\nimport { LogIn } from '../pages/login/login';\nimport { Logout } from '../pages/logout/logout';\nimport { Register } from '../pages/register/register';\nimport { Search } from '../pages/search/search';\nimport { ChatMessages } from '../pages/chatmessages/chatmessages';\nimport { Settings } from '../pages/settings/settings';\nimport { About } from '../pages/about/about';\n\nimport { AuthenticationService } from '../services/authentication.service';\nimport { APIService } from '../services/api.service';\nimport { NotificationsService } from '../services/notifications.service';\nimport { MessagesService } from '../services/messages.service';\nimport { SocketService } from '../services/socket.service';\nimport { FriendsService } from '../services/friends.service';\nimport { SettingsService } from '../services/settings.service';\nimport { TokenService } from '../services/token.service';\nimport { ErrorResolverService } from '../services/errorResolver.service';\nimport { NetworkService } from '../services/network.service';\n      \n@NgModule({\n  declarations: [\n    MyApp,\n    LogIn,\n    Register,\n    ChatMain,\n    Logout,\n    Search,\n    ChatMessages,\n    Settings,\n    About\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpModule,\n    PincodeInputModule,\n    IonicStorageModule.forRoot(),\n    IonicModule.forRoot(MyApp,{\n      scrollAssist: false, \n      autoFocusAssist: false\n    }),\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    LogIn,\n    Register,\n    ChatMain,\n    Logout,\n    Search,\n    ChatMessages,\n    Settings,\n    About\n  ],\n  providers: [\n    Keyboard,\n    BackgroundMode,\n    SecureStorage,\n    Device,\n    Network,\n    ErrorResolverService,\n    TokenService,\n    FriendsService,\n    SocketService,\n    AuthenticationService,\n    APIService,\n    NotificationsService,\n    MessagesService,\n    SettingsService,\n    NetworkService,\n    { provide: ErrorHandler, useClass: IonicErrorHandler }\n  ]\n})\nexport class AppModule {\n  constructor (\n    private injector:Injector,\n  ) {\n    ServiceLocator.injector = this.injector;\n  } \n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform , MenuController , Events } from 'ionic-angular';\nimport { StatusBar, Splashscreen } from 'ionic-native';\n\nimport { LogIn } from '../pages/login/login';\nimport { Logout } from '../pages/logout/logout';\nimport { Register } from '../pages/register/register';\nimport { ChatMain } from '../pages/chat-main/chat-main';\nimport { Search } from '../pages/search/search';\nimport { ChatMessages } from '../pages/chatmessages/chatmessages';\nimport { Settings } from '../pages/settings/settings';\nimport { About } from '../pages/about/about';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: any = LogIn;\n\n  pages: Array<{title: string, component: any}>;\n  pagesUnathorized;\n  pagesAuthorized;\n  forAll;\n\n  constructor(\n    public platform: Platform,\n    private menu: MenuController,\n    private events:Events,\n  ) {\n    this.initializeApp();\n\n    this.events.subscribe('user:loggedin',() => {\n      this.chageMenus();\n\n      this.openPage({\n        component:ChatMain\n      });\n    });\n\n    this.events.subscribe('start:chatting-ready',() => {\n      this.openPage({\n        component:ChatMessages\n      });\n    });\n\n    this.events.subscribe('user:logout',() => {\n      this.pages = [...this.pagesUnathorized,...this.forAll];\n\n      this.openPage({\n        component:LogIn\n      });\n    });\n\n    // pages for all Users\n    this.forAll = [\n      { title:'About', component:About }\n    ]\n\n    // pages for unauthorzied users\n    this.pagesUnathorized = [\n      { title: 'Log in', component: LogIn },\n      { title: 'Register', component: Register },\n    ];\n\n    // pages for authorized users\n    this.pagesAuthorized = [\n      { title: 'Main', component: ChatMain },\n      { title: 'Search', component:Search },\n      { title: 'Settings', component:Settings },\n      { title: 'Log Out', component:Logout },\n    ];\n\n    this.pages = [...this.pagesUnathorized,...this.forAll];\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      StatusBar.styleDefault();\n      Splashscreen.hide();\n    });\n  }\n\n  openPage(page) {\n    if ( page.component === ChatMain || page.component === LogIn ) {\n      this.nav.setRoot(page.component);\n    } else {\n      this.nav.push(page.component);\n    }\n  }\n\n  chageMenus() {\n    this.pages = [...this.pagesAuthorized,...this.forAll];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable } from '@angular/core';\nimport { AlertController } from 'ionic-angular';\n\n@Injectable()\nexport class ErrorResolverService {\n  private _errors = {\n    // login errors\n    'MISSING_CREDENTIALS':'Username or password is missing.',\n    'EMAIL_PASSWORD_INCORRECT':'Email or password is incorrect.',\n    'ACCOUNT_NOT_ACTIVATED':'Your account is not activated yet.',\n    \"LOGIN_INVALID_PIN\":'PIN is not valid.',\n    'LOGIN_FATAL_ERROR':'Error occured while trying to log you in, please try again.',\n    // registration errors\n    'REGISTER_DATA_NOT_VALID':'Please enter correct data',\n    'REGISTER_USERNAME_EXISTS':'Username already exists.',\n    'REGISTER_EMAIL_EXISTS':'Email already exists',\n    'EMAIL_USERNAME_LOOKUP_FAILED':'',\n    'REGISTER_EMAIL_SEND_ERROR':`Your account is created, but we were unable to send you confirmation email.\n    Please request another email to activate your account.`,\n    'REGISTER_EMAIL_RESEND_ERROR':'Fatal error occured while resending email. Please try again.',\n    'ACCOUNT_ALREADY_ACTIVATED':'Your account is already activated.',\n    'REGISTER_FATAL_ERROR':'Error occured while trying to create your account, please try again.',\n    // friends errors\n    'FRIENDS_MISSING_DATA':'Failed to add this user to your friends list, please try again',\n    'FRIENDS_ALREADY_ADDED':'You have already added this user as your friend',\n    'FRIENDS_USER_ALREADY_ADDED':'This user has already added you as a friend, go confirm the request!',\n    'FRIENDS_FATAL_ERROR':'Error occured while trying to add this user to your friends list. Please try later',\n    'FRIENDS_ALREADY_CONFIRMED':'You have already confirmed this friend request!',\n    'FRIENDS_CONFIRMING_FATAL_ERROR':'Error occured while trying to confirm this request.Please try later.',\n    'PENDING_FATAL_ERROR':'Error occured while processing your pending request.',\n    // notification errors\n    'NOTIFICATION_FATAL_ERROR':'Error occured while dismissing. Please try later.',\n    // search errors\n    'SEARCH_FATAL_ERROR':'Error while searching. Please try again.',\n    // messages errors\n    'MESSAGES_FETCH_FAILED':'Error while getting your messages. Please restart your application',\n    'MESSAGES_DELETING_FAILED':'Error while deleting your read messages. Please restart application',\n    // users errors\n    'USERS_PASSWORD_INVALID':'Your current password is incorrect, please try again.',\n    'USERS_FATAL_ERROR':'Error while updating your profile, please try again.',\n    'USERS_FETCH_INFO_FAILED':'Error while fetching your info. Please restart your application!',\n    'USERS_DELETE_ACCOUNT_WRONG_PASSWORD':'Password you provided is not valid, try again!',\n    'USERS_DELETE_ACCOUNT_FATAL_ERROR':'Error while deleting your account, please try again!',\n    'USERS_PIN_INVALID':'PIN your provided is invalid.',\n    'PIN_UNIQUE_DEVICE_OFF':\"Setting 'Use app only on this device' is off. Please turn it on if you want to use PIN login\",\n    'UNIQUE_DEVICE_ERROR':'Operation failed. Make sure you are doing this from your registered device!',\n    'DEFAULT':'Error occured, please try again.'\n  }\n\n  constructor(private alert:AlertController) {}\n\n  public presentAlertError(title:string,errorCode:string):void {\n    const alert = this.alert.create({\n      title,\n      subTitle:this.resolveError(errorCode),\n      buttons:['dismiss']\n    });\n\n    alert.present();\n  }\n\n  public resolveError(errorCode:string):string {\n    return this._errors[errorCode] || this._errors['DEFAULT'];\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/errorResolver.service.ts","import { Injectable } from '@angular/core';\r\nimport { Http , Headers } from '@angular/http';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport { Config } from '../Libs/Config';\r\nimport { SecureDataStorage } from '../Libs/SecureDataStorage';\r\n\r\n@Injectable()\r\nexport class AuthenticationService {\r\n  private mainUrl:string = Config.getConfig('API_URL');\r\n  private logInURL:string = this.mainUrl + 'api/login';\r\n  private logOutURL:string = this.mainUrl + 'api/login/logout';\r\n  private registerURL:string = this.mainUrl + 'api/register';\r\n  private checkEmailUsernameURL:string = this.mainUrl + 'api/register/checkemailusername';\r\n  private resendConfirmationEmailURL:string = this.mainUrl + 'api/register/resend_confirmation_email';\r\n\r\n  constructor(private http:Http) {}\r\n\r\n  public logIn(body) {\r\n    return this._execute(this.logInURL,body);\r\n  }\r\n\r\n  public register(body) {\r\n    return this._execute(this.registerURL,body);\r\n  }\r\n  \r\n  public checkEmailUsername(body) {\r\n    return this._execute(this.checkEmailUsernameURL,body);\r\n  }\r\n  \r\n  public resendConfirmationEmail(body) {\r\n    return this._execute(this.resendConfirmationEmailURL,body);\r\n  }\r\n\r\n  private _execute(url,body,headers = this._headers()) {\r\n    return this.http.post(url,body,{ headers })\r\n      .map((response) => response.json())\r\n      .catch((error) => Observable.throw(error.json() || 'Server error'));\r\n  }\r\n\r\n  private _headers() {\r\n    const headers = new Headers();\r\n\r\n    headers.append('Content-Type','application/json');\r\n\r\n    return headers;\r\n  }\r\n\r\n  public async logOut() {\r\n    try {\r\n      const token = await SecureDataStorage.Instance().get('token');\r\n      const headers = this._headers();\r\n\r\n      await Promise.all([\r\n        SecureDataStorage.Instance().remove('token'),\r\n        SecureDataStorage.Instance().remove('refreshToken')\r\n      ]);\r\n\r\n      headers.append('Authorization','JWT ' + token);\r\n\r\n      await this._execute(this.logOutURL,{ },headers).toPromise();\r\n    } catch(e) { }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/authentication.service.ts","import { Injectable } from '@angular/core';\r\nimport { Events } from 'ionic-angular';\r\nimport { FriendsService } from './friends.service';\r\nimport { ToastController } from 'ionic-angular';\r\nimport * as io from 'socket.io-client';\r\nimport { Config } from '../Libs/Config';\r\nimport { SecureDataStorage } from '../Libs/SecureDataStorage';\r\nimport { BackgroundMode } from 'ionic-native';\r\nimport { APIService } from '../services/api.service';\r\n\r\n@Injectable()\r\nexport class SocketService {\r\n  private SOCKET_URL:string = Config.getConfig('API_URL');\r\n  private shouldLoadOperations:boolean = false;\r\n  private socket;\r\n  private subscribeToEvents:boolean = true;\r\n  private tempOperations;\r\n\r\n  public getSocket() {\r\n    return this.socket;\r\n  }\r\n\r\n  constructor(\r\n    private events:Events,\r\n    private friendsService:FriendsService,\r\n    private toastController:ToastController,\r\n    private apiService:APIService\r\n  ) {\r\n    this.events.subscribe('user:logout',() => {\r\n      this.subscribeToEvents = true;\r\n      this.socket.disconnect();\r\n      this.events.unsubscribe('message:send-ready');\r\n      this.socket = null;\r\n    });\r\n  }\r\n\r\n  public isConnected():boolean {\r\n    return this.socket.connected\r\n  }\r\n\r\n  public async setNewToken(token:string) {\r\n    if ( this.socket ) {\r\n      this.socket.io.opts.query = `auth_token=${token}`;\r\n    }\r\n  }\r\n\r\n  public setTempOperations(operations) {\r\n    this.tempOperations = operations.filter(x => {\r\n      return x.name === 'message:new-message';\r\n    });\r\n  }\r\n\r\n  public tempOperationsSet():boolean {\r\n    return !!this.tempOperations;\r\n  }\r\n\r\n  public getTempOperations() {\r\n    return this.tempOperations;\r\n  }\r\n\r\n  public removeTempOperations() {\r\n    this.tempOperations = null;\r\n  }\r\n\r\n  public async executeTempOperations() {\r\n    if ( !this.tempOperations ) return;\r\n\r\n    await this.executeSocketOperations();\r\n    this.tempOperations = null;\r\n  }\r\n  \r\n  public async executeSocketOperations(forcedOperations?) {\r\n    try {\r\n      let operations;\r\n\r\n      if ( !forcedOperations ) {\r\n        if ( !this.shouldLoadOperations && !this.tempOperations ) return;\r\n\r\n        if ( this.tempOperations ) {\r\n          operations = this.tempOperations;\r\n        } else {\r\n          if ( !this.shouldLoadOperations ) return;\r\n\r\n          const response = await this.apiService.getSocketOperations();\r\n          operations = response.operations;\r\n        }\r\n      } else {\r\n        operations = forcedOperations;\r\n      }\r\n\r\n      if ( operations.length > 0 ) {\r\n        for ( let { name,data } of operations ) {\r\n          const parsedData = JSON.parse(data);\r\n\r\n          if ( name === 'friends:user-confirmed' ) {\r\n            this.friendsService.addFriend(parsedData);\r\n            this.friendsService.removePendingRequest(parsedData);\r\n          }\r\n\r\n          if ( name === 'friends:friend-you-removed' ) {\r\n            this.friendsService.removeFriend(parsedData.IdUserRemoving);\r\n            this.events.publish('friend_you_removed',parsedData);\r\n            continue;\r\n          }\r\n\r\n          this.events.publish(name,parsedData);\r\n\r\n          if ( name === 'friend:login' ) {\r\n            this.friendsService.userLogIn(parsedData);\r\n          }\r\n\r\n          if ( name === 'friend:logout' ) {\r\n            this.friendsService.userLogOut(parsedData);\r\n          }\r\n        }\r\n\r\n        // whoever forces operations, needs to delete them!\r\n        if ( !forcedOperations ) {\r\n          await this.apiService.deleteOperations({ });\r\n        }\r\n      }\r\n\r\n      this.shouldLoadOperations = false;\r\n    } catch(e) {\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  public getConnection() {\r\n    return new Promise(async(resolve,reject) => {\r\n      if ( this.socket && this.socket.connected ) {\r\n        return resolve(this.socket);\r\n      }\r\n\r\n      if ( !this.socket ) {\r\n        const token = await SecureDataStorage.Instance().get('token');\r\n\r\n        this.socket = io.connect(this.SOCKET_URL,{\r\n          query:`auth_token=${token}`,\r\n          reconnectionDelay: 1000,\r\n          reconnectionDelayMax : 5000,\r\n          reconnectionAttempts: Infinity,\r\n          pingTimeout:4000,\r\n          pingInterval:16000\r\n        });\r\n      }\r\n\r\n      this.socket.on('error', async(err) => {\r\n        if ( err.toLowerCase().includes('token expired') ) {\r\n          const token = await SecureDataStorage.Instance().get('token');\r\n\r\n          this.socket.disconnect();\r\n          this.socket.io.opts.query = `auth_token=${token}`;\r\n          this.socket.connect();\r\n        } else {\r\n          reject(err);\r\n        }\r\n      });\r\n\r\n      this.socket.on('success',() => {\r\n        resolve(this.socket);\r\n      });\r\n\r\n      this.socket.on('connect',async() => {\r\n        if ( this.subscribeToEvents ) {\r\n          this.socket.on('notification:new-notification',(notification,ack) => {\r\n            this.events.publish('notification:new-notification',notification);\r\n\r\n            ack({ success:true });\r\n          });\r\n  \r\n          this.socket.on('message:new-message',(message,ack) => {\r\n            this.events.publish('message:new-message',message);\r\n            \r\n            if ( !BackgroundMode.isActive() ) {\r\n              const toast = this.toastController.create({\r\n                duration:3000,\r\n                position:'top',\r\n                message:`${message.senderUsername}: ${message.message}`\r\n              });\r\n        \r\n              toast.present();\r\n            }\r\n\r\n            ack({ success:true });\r\n          });\r\n          \r\n          this.socket.on('friend:login',(data,ack) => {\r\n            this.events.publish('friend:login',data);\r\n            this.friendsService.userLogIn(data);\r\n            ack({ success:true });\r\n          });\r\n  \r\n          this.socket.on('friend:logout',(data,ack) => {\r\n            this.events.publish('friend:logout',data);\r\n            this.friendsService.userLogOut(data);\r\n            ack({ success:true });\r\n          });  \r\n  \r\n          this.socket.on('message:user-not-online',() => {\r\n            this.events.publish('message:user-not-online');\r\n          });\r\n\r\n          this.socket.on('message:not-in-friends-list',() => {\r\n            this.events.publish('message:not-in-friends-list');\r\n          });\r\n  \r\n          this.socket.on('friends:user-confirmed',(friend,ack) => {\r\n            this.friendsService.addFriend(friend);\r\n            this.friendsService.removePendingRequest(friend);\r\n            this.events.publish('friends:user-confirmed',friend);\r\n            ack({ success:true });\r\n          });\r\n          \r\n          this.socket.on('friends:friend-you-removed',(data,ack) => {\r\n            this.friendsService.removeFriend(data.IdUserRemoving);\r\n            this.events.publish('friend_you_removed',data);\r\n            ack({ success:true });\r\n          });\r\n\r\n          this.events.subscribe('message:send-ready',(message) => {\r\n            this.socket.emit('new:message',message);\r\n          });\r\n\r\n          this.subscribeToEvents = false;\r\n        }\r\n\r\n        resolve(this.socket);\r\n      });\r\n\r\n      this.socket.on('disconnect',() => {\r\n        this.shouldLoadOperations = true;\r\n      });\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/socket.service.ts","import { Injectable } from '@angular/core';\r\nimport { APIService } from './api.service';\r\nimport { Events } from 'ionic-angular';\r\n\r\n@Injectable()\r\nexport class FriendsService {\r\n  private pendingRequests;\r\n  private friends = [];\r\n  private friendsLoaded:boolean = false;\r\n\r\n  constructor(\r\n    private apiService:APIService,\r\n    private events:Events\r\n  ) {\r\n    this.events.subscribe('user:logout',() => {\r\n      this.pendingRequests = null;\r\n      this.friends = [];\r\n      this.friendsLoaded = false;\r\n    });\r\n    // comes from socket io\r\n    // removes friend that is deleting you from your users list.\r\n    this.events.subscribe('friend_you_removed',(data) => {\r\n      const friendIndex = this.friends.findIndex(x => x.id_user === data.IdUserRemoving);\r\n\r\n      if ( friendIndex !== -1 ) {\r\n        this.friends.splice(friendIndex,1);\r\n      }\r\n    });\r\n    // works localy, delete a friend from your users list\r\n    this.events.subscribe('friends:friends-removed',(data) => {\r\n      const friendIndex = this.friends.findIndex(x => x.id_user === data.IdFriendToRemove);\r\n\r\n      if ( friendIndex !== -1 ) {\r\n        this.friends.splice(friendIndex,1);\r\n      }\r\n    });\r\n  }\r\n\r\n  public async getPendingRequets() {\r\n    try {\r\n      if ( this.pendingRequests ) {\r\n        return this.pendingRequests;\r\n      }\r\n      this.pendingRequests = await this.apiService.getPendingRequests();\r\n\r\n      return this.pendingRequests;\r\n    } catch(e) {\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  public areFriendsLoaded():boolean {\r\n    return this.friendsLoaded;\r\n  }\r\n\r\n  public addToPendingRequest(friend) {\r\n    this.pendingRequests.push(friend);\r\n  }\r\n\r\n  public removePendingRequest({ friend }) {\r\n    const index = this.pendingRequests.findIndex(x => x.id_user === friend.id_user);\r\n\r\n    if ( index !== -1 ) {\r\n      this.pendingRequests.splice(index,1);\r\n    }\r\n  }\r\n\r\n  public removeFriend(id_user) {\r\n    const friendIndex = this.friends.findIndex(x => x.id_user === id_user);\r\n\r\n    if ( friendIndex !== -1 ) {\r\n      this.friends.splice(friendIndex,1);\r\n    }\r\n  }\r\n\r\n  public forceNewLoad():void {\r\n    this.friendsLoaded = false;\r\n  }\r\n\r\n  public userLogIn(data):void {\r\n    this.friends.find(x => x.id_user === data.friendID).online = 1;\r\n  }\r\n\r\n  public userLogOut(data):void {\r\n    this.friends.find(x => x.id_user === data.friendID).online = 0;\r\n  }\r\n\r\n  public addFriend({ friend }):void {\r\n    const ifExistsIndex:number = this.friends.findIndex(x => x.id_user === friend.id_user);\r\n\r\n    if ( ifExistsIndex === -1 ) {\r\n      this.friends.push(friend);\r\n    }\r\n  }\r\n\r\n  public deleteFriend(IdFriendToRemove) {\r\n    return new Promise((resolve,reject) =>{\r\n      this.apiService.deleteFriend(IdFriendToRemove)\r\n        .subscribe((response) => {\r\n          if ( response.success !== true ) {\r\n            return reject(response);\r\n          }\r\n\r\n          resolve(response);\r\n        },(err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  public async cancelRequest(idUser:number) {\r\n    return await this.apiService.cancelRequest({ id_user:idUser });\r\n  }\r\n\r\n  public getFriends() {\r\n    return new Promise((resolve,reject) => {\r\n      if ( this.friendsLoaded ) {\r\n        return resolve(this.friends);\r\n      }\r\n\r\n      this.apiService.getAllFriends().subscribe((res) => {\r\n          this.friendsLoaded = true;\r\n          this.friends = res;\r\n\r\n          resolve(res);\r\n        },(err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/friends.service.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 765\n// module chunks = 0","import { Injectable } from '@angular/core';\nimport { APIService } from './api.service';\nimport { SecureDataStorage } from '../Libs/SecureDataStorage';\nimport { Config } from '../Libs/Config';\nimport { Events } from 'ionic-angular';\n\n@Injectable()\nexport class SettingsService {\n  private settings;\n  private shouldDisplay:boolean = false;\n  private settingsName:string = 'settings';\n  private shouldLoadFromServer:boolean = true;\n\n  constructor(\n    private apiService:APIService,\n    private events:Events\n  ){\n    this.events.subscribe('user:logout',() => {\n      this.shouldDisplay = false;\n      this.settings = null;\n    });\n  }\n\n  public toggleMainLoadingScreen() {\n    this.shouldDisplay = !this.shouldDisplay;\n  }\n\n  public shouldDisplayMainLoadingScreen():boolean {\n    return this.shouldDisplay;\n  } \n\n  public areSettingsLoaded():boolean {\n    return !!this.settings;\n  }\n\n  public async setSetting(key:string,value:any) {\n    if ( this.settings ) {\n      this.settings[key] = value;\n\n      await SecureDataStorage.Instance().set(this.settingsName,this.settings); \n    }\n  }\n\n  public async fetchSettings() {\n    try {\n      if ( this.settings ) {\n        return this.settings;\n      }\n\n      if ( !this.shouldLoadFromServer ) {\n        const settingsFromStorage = await SecureDataStorage.Instance().get(this.settingsName);\n\n        if ( settingsFromStorage ) {\n          this.settings = settingsFromStorage;\n\n          return this.settings;\n        }\n      }\n\n      const settings = await this.apiService.fetchUserInfo();\n\n      await SecureDataStorage.Instance().set(this.settingsName,settings);\n\n      this.shouldLoadFromServer = false;\n      this.settings = settings;\n\n      await Config.storeInfo({ pin_login_enabled:settings.pin_login_enabled });\n\n      return settings;\n    } catch(e) {\n      throw e;\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/settings.service.ts"],"sourceRoot":""}